(self["webpackChunk_zazuko_barnard59_steps_playground"]=self["webpackChunk_zazuko_barnard59_steps_playground"]||[]).push([[21],{57021:(e,t,n)=>{const o=n(61605),r=n(715);class i extends o{constructor(e){super(r,e)}}e.exports=i},715:(e,t,n)=>{const o=n(36805),{Readable:r}=n(88473),i=n(6118);class a extends r{constructor(e,{context:t={},compact:n,flatten:o,frame:r,skipContext:i,encoding:a="object"}={}){super({objectMode:!0,read:()=>{}}),this.context=t,this.compact=n,this.flatten=o,this.frame=r,this.skipContext=i,this.encoding=a,e.on("prefix",((e,t)=>{this.context[e]||(this.context[e]=t.value)})),this.handleData(e)}async handleData(e){try{const t=(await i(e)).map(a.toJsonldQuad),n=await o.fromRDF(t),r=await this.transform(n,this.options);this.push(r),this.push(null)}catch(t){this.emit("error",t)}}async transform(e){return this.compact&&(e=await o.compact(e,this.context)),this.flatten&&(e=await o.flatten(e,this.context)),this.frame&&(e=await o.frame(e,this.context)),this.skipContext&&e["@context"]&&delete e["@context"],"string"===this.encoding?JSON.stringify(e):e}static toJsonldQuad(e){return{subject:a.toJsonldTerm(e.subject),predicate:a.toJsonldTerm(e.predicate),object:a.toJsonldTerm(e.object),graph:a.toJsonldTerm(e.graph)}}static toJsonldTerm(e){return"BlankNode"===e.termType?{termType:"BlankNode",value:`_:${e.value}`}:e}}e.exports=a},6118:(e,t,n)=>{const o=n(36890);function r(e){return new Promise(((t,n)=>{e.on("error",(e=>{n(e)})),e.pipe(o((e=>{t(e)})))}))}e.exports=r},61605:e=>{class t{constructor(e,t){this.Impl=e,this.options=t}import(e,t){const n=new this.Impl(e,Object.assign({},this.options,t));return e.on("end",(()=>{n.readable||n.emit("end")})),e.on("error",(e=>{n.emit("error",e)})),n}}e.exports=t},55420:(e,t,n)=>{var o=n(48764)["Buffer"],r=Object.prototype.toString,i="undefined"!==typeof o&&"function"===typeof o.alloc&&"function"===typeof o.allocUnsafe&&"function"===typeof o.from;function a(e){return"ArrayBuffer"===r.call(e).slice(8,-1)}function s(e,t,n){t>>>=0;var r=e.byteLength-t;if(r<0)throw new RangeError("'offset' is out of bounds");if(void 0===n)n=r;else if(n>>>=0,n>r)throw new RangeError("'length' is out of bounds");return i?o.from(e.slice(t,t+n)):new o(new Uint8Array(e.slice(t,t+n)))}function l(e,t){if("string"===typeof t&&""!==t||(t="utf8"),!o.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return i?o.from(e,t):new o(e,t)}function c(e,t,n){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return a(e)?s(e,t,n):"string"===typeof e?l(e,t):i?o.from(e):new o(e)}e.exports=c},95456:e=>{"use strict";e.exports=function e(t){return null===t||"object"!==typeof t||null!=t.toJSON?JSON.stringify(t):Array.isArray(t)?"["+t.reduce(((t,n,o)=>{const r=0===o?"":",",i=void 0===n||"symbol"===typeof n?null:n;return t+r+e(i)}),"")+"]":"{"+Object.keys(t).sort().reduce(((n,o,r)=>{if(void 0===t[o]||"symbol"===typeof t[o])return n;const i=0===n.length?"":",";return n+i+e(o)+":"+e(t[o])}),"")+"}"}},36890:(e,t,n)=>{var o=n(48764)["Buffer"],r=n(88473).Writable,i=n(35717),a=n(55420);if("undefined"===typeof Uint8Array)var s=n(61666).U2;else s=Uint8Array;function l(e,t){if(!(this instanceof l))return new l(e,t);"function"===typeof e&&(t=e,e={}),e||(e={});var n=e.encoding,o=!1;n?(n=String(n).toLowerCase(),"u8"!==n&&"uint8"!==n||(n="uint8array")):o=!0,r.call(this,{objectMode:!0}),this.encoding=n,this.shouldInferEncoding=o,t&&this.on("finish",(function(){t(this.getBody())})),this.body=[]}e.exports=l,i(l,r),l.prototype._write=function(e,t,n){this.body.push(e),n()},l.prototype.inferEncoding=function(e){var t=void 0===e?this.body[0]:e;return o.isBuffer(t)?"buffer":"undefined"!==typeof Uint8Array&&t instanceof Uint8Array?"uint8array":Array.isArray(t)?"array":"string"===typeof t?"string":"[object Object]"===Object.prototype.toString.call(t)?"object":"buffer"},l.prototype.getBody=function(){return this.encoding||0!==this.body.length?(this.shouldInferEncoding&&(this.encoding=this.inferEncoding()),"array"===this.encoding?f(this.body):"string"===this.encoding?d(this.body):"buffer"===this.encoding?p(this.body):"uint8array"===this.encoding?h(this.body):this.body):[]};Array.isArray;function c(e){return/Array\]$/.test(Object.prototype.toString.call(e))}function u(e){return"string"===typeof e||c(e)||e&&"function"===typeof e.subarray}function d(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];"string"===typeof r||o.isBuffer(r)?t.push(r):u(r)?t.push(a(r)):t.push(a(String(r)))}return o.isBuffer(e[0])?(t=o.concat(t),t=t.toString("utf8")):t=t.join(""),t}function p(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];o.isBuffer(r)?t.push(r):u(r)?t.push(a(r)):t.push(a(String(r)))}return o.concat(t)}function f(e){for(var t=[],n=0;n<e.length;n++)t.push.apply(t,e[n]);return t}function h(e){for(var t=0,n=0;n<e.length;n++)"string"===typeof e[n]&&(e[n]=a(e[n])),t+=e[n].length;for(var o=new s(t),r=(n=0,0);n<e.length;n++)for(var i=e[n],l=0;l<i.length;l++)o[r++]=i[l];return o}},68058:(e,t,n)=>{"use strict";const{isArray:o,isObject:r,isString:i}=n(30832),{asArray:a}=n(51055),{prependBase:s}=n(82278),l=n(54093),c=n(26767),u=10;function d(e){throw new l("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}function p({context:e,base:t}){if(!e)return;const n=e["@context"];if(i(n))e["@context"]=s(t,n);else if(o(n))for(let o=0;o<n.length;++o){const e=n[o];i(e)?n[o]=s(t,e):r(e)&&p({context:{"@context":e},base:t})}else if(r(n))for(const o in n)p({context:n[o],base:t})}e.exports=class{constructor({sharedCache:e}){this.perOpCache=new Map,this.sharedCache=e}async resolve({activeCtx:e,context:t,documentLoader:n,base:s,cycles:l=new Set}){t&&r(t)&&t["@context"]&&(t=t["@context"]),t=a(t);const u=[];for(const a of t){if(i(a)){let t=this._get(a);t||(t=await this._resolveRemoteContext({activeCtx:e,url:a,documentLoader:n,base:s,cycles:l})),o(t)?u.push(...t):u.push(t);continue}if(null===a){u.push(new c({document:null}));continue}r(a)||d(t);const p=JSON.stringify(a);let f=this._get(p);f||(f=new c({document:a}),this._cacheResolvedContext({key:p,resolved:f,tag:"static"})),u.push(f)}return u}_get(e){let t=this.perOpCache.get(e);if(!t){const n=this.sharedCache.get(e);n&&(t=n.get("static"),t&&this.perOpCache.set(e,t))}return t}_cacheResolvedContext({key:e,resolved:t,tag:n}){if(this.perOpCache.set(e,t),void 0!==n){let o=this.sharedCache.get(e);o||(o=new Map,this.sharedCache.set(e,o)),o.set(n,t)}return t}async _resolveRemoteContext({activeCtx:e,url:t,documentLoader:n,base:o,cycles:r}){t=s(o,t);const{context:i,remoteDoc:a}=await this._fetchContext({activeCtx:e,url:t,documentLoader:n,cycles:r});o=a.documentUrl||t,p({context:i,base:o});const l=await this.resolve({activeCtx:e,context:i,documentLoader:n,base:o,cycles:r});return this._cacheResolvedContext({key:t,resolved:l,tag:a.tag}),l}async _fetchContext({activeCtx:e,url:t,documentLoader:n,cycles:a}){if(a.size>u)throw new l("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"json-ld-1.0"===e.processingMode?"loading remote context failed":"context overflow",max:u});if(a.has(t))throw new l("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"json-ld-1.0"===e.processingMode?"recursive context inclusion":"context overflow",url:t});let s,c;a.add(t);try{c=await n(t),s=c.document||null,i(s)&&(s=JSON.parse(s))}catch(d){throw new l("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:t,cause:d})}if(!r(s))throw new l("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:t});return s="@context"in s?{"@context":s["@context"]}:{"@context":{}},c.contextUrl&&(o(s["@context"])||(s["@context"]=[s["@context"]]),s["@context"].push(c.contextUrl)),{context:s,remoteDoc:c}}}},54093:e=>{"use strict";e.exports=class extends Error{constructor(e="An unspecified JSON-LD error occurred.",t="jsonld.Error",n={}){super(e),this.name=t,this.message=e,this.details=n}}},60731:e=>{"use strict";e.exports=e=>{class t{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(t,n){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(t,n)},t.expand=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(t)},t.flatten=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(t)},t}},69048:(e,t,n)=>{"use strict";e.exports=n(47055).NQuads},40533:e=>{"use strict";e.exports=class{constructor(){this._requests={}}wrapLoader(e){const t=this;return t._loader=e,function(){return t.add.apply(t,arguments)}}async add(e){let t=this._requests[e];if(t)return Promise.resolve(t);t=this._requests[e]=this._loader(e);try{return await t}finally{delete this._requests[e]}}}},26767:(e,t,n)=>{"use strict";const o=n(39593),r=10;e.exports=class{constructor({document:e}){this.document=e,this.cache=new o({max:r})}getProcessed(e){return this.cache.get(e)}setProcessed(e,t){this.cache.set(e,t)}}},83251:(e,t,n)=>{"use strict";const o=n(54093),{isArray:r,isObject:i,isString:a,isUndefined:s}=n(30832),{isList:l,isValue:c,isGraph:u,isSimpleGraph:d,isSubjectReference:p}=n(18463),{expandIri:f,getContextValue:h,isKeyword:y,process:g,processingMode:v}=n(54131),{removeBase:m,prependBase:x}=n(82278),{addValue:b,asArray:w,compareShortestLeast:j}=n(51055),I={};function O(e,t,n,o,r,a){null===a&&(a="@null");const s=[];if(("@id"===a||"@reverse"===a)&&i(n)&&"@id"in n){"@reverse"===a&&s.push("@reverse");const t=I.compactIri({activeCtx:e,iri:n["@id"],relativeTo:{vocab:!0}});e.mappings.has(t)&&e.mappings.get(t)&&e.mappings.get(t)["@id"]===n["@id"]?s.push.apply(s,["@vocab","@id"]):s.push.apply(s,["@id","@vocab"])}else{s.push(a);const e=s.find((e=>e.includes("_")));e&&s.push(e.replace(/^[^_]+_/,"_"))}s.push("@none");const l=e.inverse[t];for(const i of o){if(!(i in l))continue;const e=l[i][r];for(const t of s)if(t in e)return e[t]}return null}function S(e,t,n){if("@nest"!==f(e,t,{vocab:!0},n))throw new o("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}e.exports=I,I.compact=async({activeCtx:e,activeProperty:t=null,element:n,options:f={},compactionMap:m=(()=>{})})=>{if(r(n)){let o=[];for(let r=0;r<n.length;++r){let i=await I.compact({activeCtx:e,activeProperty:t,element:n[r],options:f,compactionMap:m});null===i&&(i=await m({unmappedValue:n[r],activeCtx:e,activeProperty:t,parent:n,index:r,options:f}),void 0===i)||o.push(i)}if(f.compactArrays&&1===o.length){const n=h(e,t,"@container")||[];0===n.length&&(o=o[0])}return o}const x=h(e,t,"@context");if(s(x)||(e=await g({activeCtx:e,localCtx:x,propagate:!0,overrideProtected:!0,options:f})),i(n)){if(f.link&&"@id"in n&&f.link.hasOwnProperty(n["@id"])){const e=f.link[n["@id"]];for(let t=0;t<e.length;++t)if(e[t].expanded===n)return e[t].compacted}if(c(n)||p(n)){const o=I.compactValue({activeCtx:e,activeProperty:t,value:n,options:f});return f.link&&p(n)&&(f.link.hasOwnProperty(n["@id"])||(f.link[n["@id"]]=[]),f.link[n["@id"]].push({expanded:n,compacted:o})),o}if(l(n)){const o=h(e,t,"@container")||[];if(o.includes("@list"))return I.compact({activeCtx:e,activeProperty:t,element:n["@list"],options:f,compactionMap:m})}const x="@reverse"===t,j={},O=e;c(n)||p(n)||(e=e.revertToPreviousContext());const E=h(O,t,"@context");s(E)||(e=await g({activeCtx:e,localCtx:E,propagate:!0,overrideProtected:!0,options:f})),f.link&&"@id"in n&&(f.link.hasOwnProperty(n["@id"])||(f.link[n["@id"]]=[]),f.link[n["@id"]].push({expanded:n,compacted:j}));let N=n["@type"]||[];N.length>1&&(N=Array.from(N).sort());const L=e;for(const t of N){const n=I.compactIri({activeCtx:L,iri:t,relativeTo:{vocab:!0}}),o=h(O,n,"@context");s(o)||(e=await g({activeCtx:e,localCtx:o,options:f,propagate:!1}))}const C=Object.keys(n).sort();for(const s of C){const p=n[s];if("@id"!==s)if("@type"!==s)if("@reverse"!==s)if("@preserve"!==s)if("@index"!==s)if("@graph"!==s&&"@list"!==s&&"@included"!==s&&y(s)){const t=I.compactIri({activeCtx:e,iri:s,relativeTo:{vocab:!0}});b(j,t,p)}else{if(!r(p))throw new o("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===p.length){const t=I.compactIri({activeCtx:e,iri:s,value:p,relativeTo:{vocab:!0},reverse:x}),n=e.mappings.has(t)?e.mappings.get(t)["@nest"]:null;let o=j;n&&(S(e,n,f),i(j[n])||(j[n]={}),o=j[n]),b(o,t,p,{propertyIsArray:!0})}for(const t of p){const n=I.compactIri({activeCtx:e,iri:s,value:t,relativeTo:{vocab:!0},reverse:x}),o=e.mappings.has(n)?e.mappings.get(n)["@nest"]:null;let p=j;o&&(S(e,o,f),i(j[o])||(j[o]={}),p=j[o]);const y=h(e,n,"@container")||[],g=u(t),v=l(t);let O;v?O=t["@list"]:g&&(O=t["@graph"]);let E=await I.compact({activeCtx:e,activeProperty:n,element:v||g?O:t,options:f,compactionMap:m});if(v){if(r(E)||(E=[E]),y.includes("@list")){b(p,n,E,{valueIsArray:!0,allowDuplicate:!0});continue}E={[I.compactIri({activeCtx:e,iri:"@list",relativeTo:{vocab:!0}})]:E},"@index"in t&&(E[I.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"])}if(g)if(y.includes("@graph")&&(y.includes("@id")||y.includes("@index")&&d(t))){let o;p.hasOwnProperty(n)?o=p[n]:p[n]=o={};const r=(y.includes("@id")?t["@id"]:t["@index"])||I.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}});b(o,r,E,{propertyIsArray:!f.compactArrays||y.includes("@set")})}else y.includes("@graph")&&d(t)?(r(E)&&E.length>1&&(E={"@included":E}),b(p,n,E,{propertyIsArray:!f.compactArrays||y.includes("@set")})):(r(E)&&1===E.length&&f.compactArrays&&(E=E[0]),E={[I.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}})]:E},"@id"in t&&(E[I.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=t["@id"]),"@index"in t&&(E[I.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"]),b(p,n,E,{propertyIsArray:!f.compactArrays||y.includes("@set")}));else if(y.includes("@language")||y.includes("@index")||y.includes("@id")||y.includes("@type")){let o,r;if(p.hasOwnProperty(n)?o=p[n]:p[n]=o={},y.includes("@language"))c(E)&&(E=E["@value"]),r=t["@language"];else if(y.includes("@index")){const o=h(e,n,"@index")||"@index",i=I.compactIri({activeCtx:e,iri:o,relativeTo:{vocab:!0}});if("@index"===o)r=t["@index"],delete E[i];else{let e;if([r,...e]=w(E[o]||[]),a(r))switch(e.length){case 0:delete E[o];break;case 1:E[o]=e[0];break;default:E[o]=e;break}else r=null}}else if(y.includes("@id")){const t=I.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});r=E[t],delete E[t]}else if(y.includes("@type")){const o=I.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}});let i;switch([r,...i]=w(E[o]||[]),i.length){case 0:delete E[o];break;case 1:E[o]=i[0];break;default:E[o]=i;break}1===Object.keys(E).length&&"@id"in t&&(E=await I.compact({activeCtx:e,activeProperty:n,element:{"@id":t["@id"]},options:f,compactionMap:m}))}r||(r=I.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}})),b(o,r,E,{propertyIsArray:y.includes("@set")})}else{const e=!f.compactArrays||y.includes("@set")||y.includes("@list")||r(E)&&0===E.length||"@list"===s||"@graph"===s;b(p,n,E,{propertyIsArray:e})}}}else{const n=h(e,t,"@container")||[];if(n.includes("@index"))continue;const o=I.compactIri({activeCtx:e,iri:s,relativeTo:{vocab:!0}});b(j,o,p)}else{const n=await I.compact({activeCtx:e,activeProperty:t,element:p,options:f,compactionMap:m});r(n)&&0===n.length||b(j,s,n)}else{const t=await I.compact({activeCtx:e,activeProperty:"@reverse",element:p,options:f,compactionMap:m});for(const n in t)if(e.mappings.has(n)&&e.mappings.get(n).reverse){const o=t[n],r=h(e,n,"@container")||[],i=r.includes("@set")||!f.compactArrays;b(j,n,o,{propertyIsArray:i}),delete t[n]}if(Object.keys(t).length>0){const n=I.compactIri({activeCtx:e,iri:s,relativeTo:{vocab:!0}});b(j,n,t)}}else{let t=w(p).map((e=>I.compactIri({activeCtx:O,iri:e,relativeTo:{vocab:!0}})));1===t.length&&(t=t[0]);const n=I.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}}),o=h(e,n,"@container")||[],i=o.includes("@set")&&v(e,1.1),a=i||r(t)&&0===p.length;b(j,n,t,{propertyIsArray:a})}else{let t=w(p).map((t=>I.compactIri({activeCtx:e,iri:t,relativeTo:{vocab:!1},base:f.base})));1===t.length&&(t=t[0]);const n=I.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});j[n]=t}}return j}return n},I.compactIri=({activeCtx:e,iri:t,value:n=null,relativeTo:r={vocab:!1},reverse:a=!1,base:s=null})=>{if(null===t)return t;e.isPropertyTermScoped&&e.previousContext&&(e=e.previousContext);const d=e.getInverse();if(y(t)&&t in d&&"@none"in d[t]&&"@type"in d[t]["@none"]&&"@none"in d[t]["@none"]["@type"])return d[t]["@none"]["@type"]["@none"];if(r.vocab&&t in d){const o=e["@language"]||"@none",r=[];i(n)&&"@index"in n&&!("@graph"in n)&&r.push("@index","@index@set"),i(n)&&"@preserve"in n&&(n=n["@preserve"][0]),u(n)?("@index"in n&&r.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in n&&r.push("@graph@id","@graph@id@set"),r.push("@graph","@graph@set","@set"),"@index"in n||r.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in n||r.push("@graph@id","@graph@id@set")):i(n)&&!c(n)&&r.push("@id","@id@set","@type","@set@type");let s="@language",d="@null";if(a)s="@type",d="@reverse",r.push("@set");else if(l(n)){"@index"in n||r.push("@list");const e=n["@list"];if(0===e.length)s="@any",d="@none";else{let t=0===e.length?o:null,n=null;for(let o=0;o<e.length;++o){const r=e[o];let i="@none",a="@none";if(c(r))if("@direction"in r){const e=(r["@language"]||"").toLowerCase(),t=r["@direction"];i=`${e}_${t}`}else"@language"in r?i=r["@language"].toLowerCase():"@type"in r?a=r["@type"]:i="@null";else a="@id";if(null===t?t=i:i!==t&&c(r)&&(t="@none"),null===n?n=a:a!==n&&(n="@none"),"@none"===t&&"@none"===n)break}t=t||"@none",n=n||"@none","@none"!==n?(s="@type",d=n):d=t}}else{if(c(n))if("@language"in n&&!("@index"in n)){r.push("@language","@language@set"),d=n["@language"];const e=n["@direction"];e&&(d=`${d}_${e}`)}else"@direction"in n&&!("@index"in n)?d=`_${n["@direction"]}`:"@type"in n&&(s="@type",d=n["@type"]);else s="@type",d="@id";r.push("@set")}r.push("@none"),i(n)&&!("@index"in n)&&r.push("@index","@index@set"),c(n)&&1===Object.keys(n).length&&r.push("@language","@language@set");const p=O(e,t,n,r,s,d);if(null!==p)return p}if(r.vocab&&"@vocab"in e){const n=e["@vocab"];if(0===t.indexOf(n)&&t!==n){const o=t.substr(n.length);if(!e.mappings.has(o))return o}}let p=null;const f=[];let h=e.fastCurieMap;const g=t.length-1;for(let o=0;o<g&&t[o]in h;++o)h=h[t[o]],""in h&&f.push(h[""][0]);for(let o=f.length-1;o>=0;--o){const r=f[o],i=r.terms;for(const o of i){const i=o+":"+t.substr(r.iri.length),a=e.mappings.get(o)._prefix&&(!e.mappings.has(i)||null===n&&e.mappings.get(i)["@id"]===t);a&&(null===p||j(i,p)<0)&&(p=i)}}if(null!==p)return p;for(const[i,l]of e.mappings)if(l&&l._prefix&&t.startsWith(i+":"))throw new o(`Absolute IRI "${t}" confused with prefix "${i}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:e});return r.vocab?t:"@base"in e?e["@base"]?m(x(s,e["@base"]),t):t:m(s,t)},I.compactValue=({activeCtx:e,activeProperty:t,value:n,options:o})=>{if(c(n)){const o=h(e,t,"@type"),r=h(e,t,"@language"),i=h(e,t,"@direction"),s=h(e,t,"@container")||[],l="@index"in n&&!s.includes("@index");if(!l&&"@none"!==o){if(n["@type"]===o)return n["@value"];if("@language"in n&&n["@language"]===r&&"@direction"in n&&n["@direction"]===i)return n["@value"];if("@language"in n&&n["@language"]===r)return n["@value"];if("@direction"in n&&n["@direction"]===i)return n["@value"]}const c=Object.keys(n).length,u=1===c||2===c&&"@index"in n&&!l,d="@language"in e,p=a(n["@value"]),f=e.mappings.has(t)&&null===e.mappings.get(t)["@language"];if(u&&"@none"!==o&&(!d||!p||f))return n["@value"];const y={};return l&&(y[I.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=n["@index"]),"@type"in n?y[I.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}})]=I.compactIri({activeCtx:e,iri:n["@type"],relativeTo:{vocab:!0}}):"@language"in n&&(y[I.compactIri({activeCtx:e,iri:"@language",relativeTo:{vocab:!0}})]=n["@language"]),"@direction"in n&&(y[I.compactIri({activeCtx:e,iri:"@direction",relativeTo:{vocab:!0}})]=n["@direction"]),y[I.compactIri({activeCtx:e,iri:"@value",relativeTo:{vocab:!0}})]=n["@value"],y}const r=f(e,t,{vocab:!0},o),i=h(e,t,"@type"),s=I.compactIri({activeCtx:e,iri:n["@id"],relativeTo:{vocab:"@vocab"===i},base:o.base});return"@id"===i||"@vocab"===i||"@graph"===r?s:{[I.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]:s}}},93770:e=>{"use strict";const t="http://www.w3.org/1999/02/22-rdf-syntax-ns#",n="http://www.w3.org/2001/XMLSchema#";e.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:t,RDF_LIST:t+"List",RDF_FIRST:t+"first",RDF_REST:t+"rest",RDF_NIL:t+"nil",RDF_TYPE:t+"type",RDF_PLAIN_LITERAL:t+"PlainLiteral",RDF_XML_LITERAL:t+"XMLLiteral",RDF_JSON_LITERAL:t+"JSON",RDF_OBJECT:t+"object",RDF_LANGSTRING:t+"langString",XSD:n,XSD_BOOLEAN:n+"boolean",XSD_DOUBLE:n+"double",XSD_INTEGER:n+"integer",XSD_STRING:n+"string"}},54131:(e,t,n)=>{"use strict";var o=n(25108);const r=n(51055),i=n(54093),{isArray:a,isObject:s,isString:l,isUndefined:c}=n(30832),{isAbsolute:u,isRelative:d,prependBase:p}=n(82278),{asArray:f,compareShortestLeast:h}=n(51055),y=new Map,g=1e4,v=/^@[a-zA-Z]+$/,m={};function x(e,t,n,o,r,i){if(null===t||!l(t)||m.isKeyword(t))return t;if(t.match(v))return null;if(o&&o.hasOwnProperty(t)&&!0!==r.get(t)&&m.createTermDefinition({activeCtx:e,localCtx:o,term:t,defined:r,options:i}),n=n||{},n.vocab){const n=e.mappings.get(t);if(null===n)return null;if(s(n)&&"@id"in n)return n["@id"]}const a=t.indexOf(":");if(a>0){const n=t.substr(0,a),s=t.substr(a+1);if("_"===n||0===s.indexOf("//"))return t;o&&o.hasOwnProperty(n)&&m.createTermDefinition({activeCtx:e,localCtx:o,term:n,defined:r,options:i});const l=e.mappings.get(n);if(l&&l._prefix)return l["@id"]+s;if(u(t))return t}if(n.vocab&&"@vocab"in e)return e["@vocab"]+t;if(n.base&&"@base"in e){if(e["@base"])return p(p(i.base,e["@base"]),t)}else if(n.base)return p(i.base,t);return t}function b(e,t){if(!e||"object"!==typeof e||!t||"object"!==typeof t)return e===t;const n=Array.isArray(e);if(n!==Array.isArray(t))return!1;if(n){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!b(e[n],t[n]))return!1;return!0}const o=Object.keys(e),r=Object.keys(t);if(o.length!==r.length)return!1;for(const i in e){let n=e[i],o=t[i];if("@container"===i&&Array.isArray(n)&&Array.isArray(o)&&(n=n.slice().sort(),o=o.slice().sort()),!b(n,o))return!1}return!0}e.exports=m,m.process=async({activeCtx:e,localCtx:t,options:n,propagate:c=!0,overrideProtected:h=!1,cycles:y=new Set})=>{s(t)&&"@context"in t&&a(t["@context"])&&(t=t["@context"]);const g=f(t);if(0===g.length)return e;const v=await n.contextResolver.resolve({activeCtx:e,context:t,documentLoader:n.documentLoader,base:n.base});s(v[0].document)&&"boolean"===typeof v[0].document["@propagate"]&&(c=v[0].document["@propagate"]);let b=e;c||b.previousContext||(b=b.clone(),b.previousContext=e);for(const a of v){let{document:c}=a;if(e=b,null===c){if(!h&&0!==Object.keys(e.protected).length){const s=n&&n.protectedMode||"error";if("error"===s)throw new i("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});if("warn"===s){o.warn("WARNING: invalid context nullification");const t=a.getProcessed(e);if(t){b=e=t;continue}const i=e;b=e=m.getInitialContext(n).clone();for(const[n,o]of Object.entries(i.protected))o&&(e.mappings[n]=r.clone(i.mappings[n]));e.protected=r.clone(i.protected),a.setProcessed(i,b);continue}throw new i("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:t,protectedMode:s})}b=e=m.getInitialContext(n).clone();continue}const f=a.getProcessed(e);if(f){b=e=f;continue}if(s(c)&&"@context"in c&&(c=c["@context"]),!s(c))throw new i("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:c});b=b.clone();const g=new Map;if("@version"in c){if(1.1!==c["@version"])throw new i("Unsupported JSON-LD version: "+c["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:c});if(e.processingMode&&"json-ld-1.0"===e.processingMode)throw new i("@version: "+c["@version"]+" not compatible with "+e.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:c});b.processingMode="json-ld-1.1",b["@version"]=c["@version"],g.set("@version",!0)}if(b.processingMode=b.processingMode||e.processingMode,"@base"in c){let e=c["@base"];if(null===e||u(e));else{if(!d(e))throw new i('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:c});e=p(b["@base"],e)}b["@base"]=e,g.set("@base",!0)}if("@vocab"in c){const e=c["@vocab"];if(null===e)delete b["@vocab"];else{if(!l(e))throw new i('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:c});if(!u(e)&&m.processingMode(b,1))throw new i('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:c});b["@vocab"]=x(b,e,{vocab:!0,base:!0},void 0,void 0,n)}g.set("@vocab",!0)}if("@language"in c){const e=c["@language"];if(null===e)delete b["@language"];else{if(!l(e))throw new i('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:c});b["@language"]=e.toLowerCase()}g.set("@language",!0)}if("@direction"in c){const t=c["@direction"];if("json-ld-1.0"===e.processingMode)throw new i("Invalid JSON-LD syntax; @direction not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:c});if(null===t)delete b["@direction"];else{if("ltr"!==t&&"rtl"!==t)throw new i('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:c});b["@direction"]=t}g.set("@direction",!0)}if("@propagate"in c){const n=c["@propagate"];if("json-ld-1.0"===e.processingMode)throw new i("Invalid JSON-LD syntax; @propagate not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:c});if("boolean"!==typeof n)throw new i("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:t});g.set("@propagate",!0)}if("@import"in c){const o=c["@import"];if("json-ld-1.0"===e.processingMode)throw new i("Invalid JSON-LD syntax; @import not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:c});if(!l(o))throw new i("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:t});const r=await n.contextResolver.resolve({activeCtx:e,context:o,documentLoader:n.documentLoader,base:n.base});if(1!==r.length)throw new i("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:t});const a=r[0].getProcessed(e);if(a)c=a;else{const n=r[0].document;if("@import"in n)throw new i("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:t});for(const e in n)c.hasOwnProperty(e)||(c[e]=n[e]);r[0].setProcessed(e,c)}g.set("@import",!0)}g.set("@protected",c["@protected"]||!1);for(const e in c)if(m.createTermDefinition({activeCtx:b,localCtx:c,term:e,defined:g,options:n,overrideProtected:h}),s(c[e])&&"@context"in c[e]){const t=c[e]["@context"];let o=!0;if(l(t)){const e=p(n.base,t);y.has(e)?o=!1:y.add(e)}if(o)try{await m.process({activeCtx:b.clone(),localCtx:c[e]["@context"],overrideProtected:!0,options:n,cycles:y})}catch(w){throw new i("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:c[e]["@context"],term:e})}}a.setProcessed(e,b)}return b},m.createTermDefinition=({activeCtx:e,localCtx:t,term:n,defined:r,options:c,overrideProtected:d=!1})=>{if(r.has(n)){if(r.get(n))return;throw new i("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:n})}let p;if(r.set(n,!1),t.hasOwnProperty(n)&&(p=t[n]),"@type"===n&&s(p)&&"@set"===(p["@container"]||"@set")&&m.processingMode(e,1.1)){const e=["@container","@id","@protected"],o=Object.keys(p);if(0===o.length||o.some((t=>!e.includes(t))))throw new i("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:n})}else{if(m.isKeyword(n))throw new i("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:n});if(n.match(v))return void o.warn('WARNING: terms beginning with "@" are reserved for future use and ignored',{term:n});if(""===n)throw new i("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t})}const f=e.mappings.get(n);e.mappings.has(n)&&e.mappings.delete(n);let h=!1;if((l(p)||null===p)&&(h=!0,p={"@id":p}),!s(p))throw new i("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});const y={};e.mappings.set(n,y),y.reverse=!1;const g=["@container","@id","@language","@reverse","@type"];m.processingMode(e,1.1)&&g.push("@context","@direction","@index","@nest","@prefix","@protected");for(const o in p)if(!g.includes(o))throw new i("Invalid JSON-LD syntax; a term definition must not contain "+o,"jsonld.SyntaxError",{code:"invalid term definition",context:t});const w=n.indexOf(":");if(y._termHasColon=w>0,"@reverse"in p){if("@id"in p)throw new i("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});if("@nest"in p)throw new i("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});const a=p["@reverse"];if(!l(a))throw new i("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(!m.isKeyword(a)&&a.match(v))return o.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{reverse:a}),void(f?e.mappings.set(n,f):e.mappings.delete(n));const s=x(e,a,{vocab:!0,base:!1},t,r,c);if(!u(s))throw new i("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});y["@id"]=s,y.reverse=!0}else if("@id"in p){let a=p["@id"];if(a&&!l(a))throw new i("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(null===a)y["@id"]=null;else{if(!m.isKeyword(a)&&a.match(v))return o.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{id:a}),void(f?e.mappings.set(n,f):e.mappings.delete(n));if(a!==n){if(a=x(e,a,{vocab:!0,base:!1},t,r,c),!u(a)&&!m.isKeyword(a))throw new i("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(n.match(/(?::[^:])|\//)){const o=new Map(r).set(n,!0),s=x(e,n,{vocab:!0,base:!1},t,o,c);if(s!==a)throw new i("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t})}y["@id"]=a,y._prefix=h&&!y._termHasColon&&a.match(/[:\/\?#\[\]@]$/)}}}if(!("@id"in y))if(y._termHasColon){const o=n.substr(0,w);if(t.hasOwnProperty(o)&&m.createTermDefinition({activeCtx:e,localCtx:t,term:o,defined:r,options:c}),e.mappings.has(o)){const t=n.substr(w+1);y["@id"]=e.mappings.get(o)["@id"]+t}else y["@id"]=n}else if("@type"===n)y["@id"]=n;else{if(!("@vocab"in e))throw new i("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:n});y["@id"]=e["@vocab"]+n}if((!0===p["@protected"]||!0===r.get("@protected")&&!1!==p["@protected"])&&(e.protected[n]=!0,y.protected=!0),r.set(n,!0),"@type"in p){let n=p["@type"];if(!l(n))throw new i("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if("@json"===n||"@none"===n){if(m.processingMode(e,1))throw new i(`Invalid JSON-LD syntax; an @context @type value must not be "${n}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else if("@id"!==n&&"@vocab"!==n){if(n=x(e,n,{vocab:!0,base:!1},t,r,c),!u(n))throw new i("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(0===n.indexOf("_:"))throw new i("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}y["@type"]=n}if("@container"in p){const n=l(p["@container"])?[p["@container"]]:p["@container"]||[],o=["@list","@set","@index","@language"];let r=!0;const s=n.includes("@set");if(m.processingMode(e,1.1)){if(o.push("@graph","@id","@type"),n.includes("@list")){if(1!==n.length)throw new i("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else if(n.includes("@graph")){if(n.some((e=>"@graph"!==e&&"@id"!==e&&"@index"!==e&&"@set"!==e)))throw new i("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else r&=n.length<=(s?2:1);if(n.includes("@type")&&(y["@type"]=y["@type"]||"@id",!["@id","@vocab"].includes(y["@type"])))throw new i("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else r&=!a(p["@container"]),r&=n.length<=1;if(r&=n.every((e=>o.includes(e))),r&=!(s&&n.includes("@list")),!r)throw new i("Invalid JSON-LD syntax; @context @container value must be one of the following: "+o.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(y.reverse&&!n.every((e=>["@index","@set"].includes(e))))throw new i("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});y["@container"]=n}if("@index"in p){if(!("@container"in p)||!y["@container"].includes("@index"))throw new i(`Invalid JSON-LD syntax; @index without @index in @container: "${p["@index"]}" on term "${n}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});if(!l(p["@index"])||0===p["@index"].indexOf("@"))throw new i(`Invalid JSON-LD syntax; @index must expand to an IRI: "${p["@index"]}" on term "${n}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});y["@index"]=p["@index"]}if("@context"in p&&(y["@context"]=p["@context"]),"@language"in p&&!("@type"in p)){let e=p["@language"];if(null!==e&&!l(e))throw new i("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});null!==e&&(e=e.toLowerCase()),y["@language"]=e}if("@prefix"in p){if(n.match(/:|\//))throw new i("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(m.isKeyword(y["@id"]))throw new i("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:t});if("boolean"!==typeof p["@prefix"])throw new i("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:t});y._prefix=!0===p["@prefix"]}if("@direction"in p){const e=p["@direction"];if(null!==e&&"ltr"!==e&&"rtl"!==e)throw new i('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:t});y["@direction"]=e}if("@nest"in p){const e=p["@nest"];if(!l(e)||"@nest"!==e&&0===e.indexOf("@"))throw new i("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:t});y["@nest"]=e}
// disallow aliasing @context and @preserve
const j=y["@id"];if("@context"===j||"@preserve"===j)throw new i("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t});if(f&&f.protected&&!d&&(e.protected[n]=!0,y.protected=!0,!b(f,y))){const e=c&&c.protectedMode||"error";if("error"===e)throw new i(`Invalid JSON-LD syntax; tried to redefine "${n}" which is a protected term.`,"jsonld.SyntaxError",{code:"protected term redefinition",context:t,term:n});if("warn"===e)return void o.warn("WARNING: protected term redefinition",{term:n});throw new i("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:t,term:n,protectedMode:e})}},m.expandIri=(e,t,n,o)=>x(e,t,n,void 0,void 0,o),m.getInitialContext=e=>{const t=JSON.stringify({processingMode:e.processingMode}),n=y.get(t);if(n)return n;const o={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:i,clone:l,revertToPreviousContext:c,protected:{}};return y.size===g&&y.clear(),y.set(t,o),o;function i(){const e=this;if(e.inverse)return e.inverse;const t=e.inverse={},n=e.fastCurieMap={},o={},r=(e["@language"]||"@none").toLowerCase(),i=e["@direction"],l=e.mappings,c=[...l.keys()].sort(h);for(const a of c){const e=l.get(a);if(null===e)continue;let c=e["@container"]||"@none";if(c=[].concat(c).sort().join(""),null===e["@id"])continue;const u=f(e["@id"]);for(const l of u){let u=t[l];const d=m.isKeyword(l);if(u)d||e._termHasColon||o[l].push(a);else if(t[l]=u={},!d&&!e._termHasColon){o[l]=[a];const e={iri:l,terms:o[l]};l[0]in n?n[l[0]].push(e):n[l[0]]=[e]}if(u[c]||(u[c]={"@language":{},"@type":{},"@any":{}}),u=u[c],s(a,u["@any"],"@none"),e.reverse)s(a,u["@type"],"@reverse");else if("@none"===e["@type"])s(a,u["@any"],"@none"),s(a,u["@language"],"@none"),s(a,u["@type"],"@none");else if("@type"in e)s(a,u["@type"],e["@type"]);else if("@language"in e&&"@direction"in e){const t=e["@language"],n=e["@direction"];s(a,u["@language"],t&&n?`${t}_${n}`.toLowerCase():t?t.toLowerCase():n?`_${n}`:"@null")}else"@language"in e?s(a,u["@language"],(e["@language"]||"@null").toLowerCase()):"@direction"in e?e["@direction"]?s(a,u["@language"],`_${e["@direction"]}`):s(a,u["@language"],"@none"):i?(s(a,u["@language"],`_${i}`),s(a,u["@language"],"@none"),s(a,u["@type"],"@none")):(s(a,u["@language"],r),s(a,u["@language"],"@none"),s(a,u["@type"],"@none"))}}for(const s in n)a(n,s,1);return t}function a(e,t,n){const o=e[t],r=e[t]={};let i,s;for(const a of o)i=a.iri,s=n>=i.length?"":i[n],s in r?r[s].push(a):r[s]=[a];for(const l in r)""!==l&&a(r,l,n+1)}function s(e,t,n){t.hasOwnProperty(n)||(t[n]=e)}function l(){const e={};return e.mappings=r.clone(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,e.protected=r.clone(this.protected),this.previousContext&&(e.previousContext=this.previousContext.clone()),e.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(e["@base"]=this["@base"]),"@language"in this&&(e["@language"]=this["@language"]),"@vocab"in this&&(e["@vocab"]=this["@vocab"]),e}function c(){return this.previousContext?this.previousContext.clone():this}},m.getContextValue=(e,t,n)=>{if(null===t){if("@context"===n)return;return null}if(e.mappings.has(t)){const o=e.mappings.get(t);if(c(n))return o;if(o.hasOwnProperty(n))return o[n]}return"@language"===n&&n in e||"@direction"===n&&n in e?e[n]:"@context"!==n?null:void 0},m.processingMode=(e,t)=>t.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+t.toString():"json-ld-1.0"===e.processingMode,m.isKeyword=e=>{if(!l(e)||"@"!==e[0])return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1}},8831:(e,t,n)=>{"use strict";const{parseLinkHeader:o,buildHeaders:r}=n(51055),{LINK_HEADER_CONTEXT:i}=n(93770),a=n(54093),s=n(40533),{prependBase:l}=n(82278),c=/(^|(\r\n))link:/i;function u(e,t,n){e=e||XMLHttpRequest;const o=new e;return new Promise(((e,r)=>{o.onload=()=>e(o),o.onerror=e=>r(e),o.open("GET",t,!0);for(const t in n)o.setRequestHeader(t,n[t]);o.send()}))}e.exports=({secure:e,headers:t={},xhr:n}={headers:{}})=>{t=r(t);const d=new s;return d.wrapLoader(p);async function p(r){if(0!==r.indexOf("http:")&&0!==r.indexOf("https:"))throw new a('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:r});if(e&&0!==r.indexOf("https"))throw new a('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:r});let s;try{s=await u(n,r,t)}catch(g){throw new a("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:r,cause:g})}if(s.status>=400)throw new a("URL could not be dereferenced: "+s.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:r,httpStatusCode:s.status});let d={contextUrl:null,documentUrl:r,document:s.response},f=null;const h=s.getResponseHeader("Content-Type");let y;if(c.test(s.getAllResponseHeaders())&&(y=s.getResponseHeader("Link")),y&&"application/ld+json"!==h){const e=o(y),t=e[i];if(Array.isArray(t))throw new a("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:r});t&&(d.contextUrl=t.target),f=e["alternate"],f&&"application/ld+json"==f.type&&!(h||"").match(/^application\/(\w*\+)?json$/)&&(d=await p(l(r,f.target)))}return d}}},62759:(e,t,n)=>{"use strict";var o=n(25108);const r=n(54093),{isArray:i,isObject:a,isEmptyObject:s,isString:l,isUndefined:c}=n(30832),{isList:u,isValue:d,isGraph:p,isSubject:f}=n(18463),{expandIri:h,getContextValue:y,isKeyword:g,process:v,processingMode:m}=n(54131),{isAbsolute:x}=n(82278),{addValue:b,asArray:w,getValues:j,validateTypeValue:I}=n(51055),O={};e.exports=O;const S=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/;async function E({activeCtx:e,activeProperty:t,expandedActiveProperty:n,element:p,expandedParent:j,options:N={},insideList:k,typeKey:T,typeScopedContext:_,expansionMap:A}){const R=Object.keys(p).sort(),D=[];let P;const M=p[T]&&"@json"===h(e,i(p[T])?p[T][0]:p[T],{vocab:!0},N);for(const E of R){let T,R=p[E];if("@context"===E)continue;let J=h(e,E,{vocab:!0},N);if((null===J||!x(J)&&!g(J))&&(J=A({unmappedProperty:E,activeCtx:e,activeProperty:t,parent:p,options:N,insideList:k,value:R,expandedParent:j}),void 0===J))continue;if(g(J)){if("@reverse"===n)throw new r("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:R});if(J in j&&"@included"!==J&&"@type"!==J)throw new r("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:J})}if("@id"===J){if(!l(R)){if(!N.isFrame)throw new r('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:R});if(a(R)){if(!s(R))throw new r('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:R})}else{if(!i(R))throw new r('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:R});if(!R.every((e=>l(e))))throw new r('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:R})}}b(j,"@id",w(R).map((t=>l(t)?h(e,t,{base:!0},N):t)),{propertyIsArray:N.isFrame});continue}if("@type"===J){a(R)&&(R=Object.fromEntries(Object.entries(R).map((([e,t])=>[h(_,e,{vocab:!0}),w(t).map((e=>h(_,e,{base:!0,vocab:!0})))])))),I(R,N.isFrame),b(j,"@type",w(R).map((e=>l(e)?h(_,e,{base:!0,vocab:!0},N):e)),{propertyIsArray:N.isFrame});continue}if("@included"===J&&m(e,1.1)){const n=w(await O.expand({activeCtx:e,activeProperty:t,element:R,options:N,expansionMap:A}));if(!n.every((e=>f(e))))throw new r("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:R});b(j,"@included",n,{propertyIsArray:!0});continue}if("@graph"===J&&!a(R)&&!i(R))throw new r('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:R});if("@value"===J){P=R,M&&m(e,1.1)?j["@value"]=R:b(j,"@value",R,{propertyIsArray:N.isFrame});continue}if("@language"===J){if(null===R)continue;if(!l(R)&&!N.isFrame)throw new r('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:R});R=w(R).map((e=>l(e)?e.toLowerCase():e));for(const e of R)l(e)&&!e.match(S)&&o.warn(`@language must be valid BCP47: ${e}`);b(j,"@language",R,{propertyIsArray:N.isFrame});continue}if("@direction"===J){if(!l(R)&&!N.isFrame)throw new r('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:R});R=w(R);for(const e of R)if(l(e)&&"ltr"!==e&&"rtl"!==e)throw new r('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:R});b(j,"@direction",R,{propertyIsArray:N.isFrame});continue}if("@index"===J){if(!l(R))throw new r('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:R});b(j,"@index",R);continue}if("@reverse"===J){if(!a(R))throw new r('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:R});if(T=await O.expand({activeCtx:e,activeProperty:"@reverse",element:R,options:N,expansionMap:A}),"@reverse"in T)for(const e in T["@reverse"])b(j,e,T["@reverse"][e],{propertyIsArray:!0});let t=j["@reverse"]||null;for(const e in T){if("@reverse"===e)continue;null===t&&(t=j["@reverse"]={}),b(t,e,[],{propertyIsArray:!0});const n=T[e];for(let o=0;o<n.length;++o){const i=n[o];if(d(i)||u(i))throw new r('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:T});b(t,e,i,{propertyIsArray:!0})}}continue}if("@nest"===J){D.push(E);continue}let B=e;const U=y(e,E,"@context");c(U)||(B=await v({activeCtx:e,localCtx:U,propagate:!0,overrideProtected:!0,options:N}));const F=y(B,E,"@container")||[];if(F.includes("@language")&&a(R)){const e=y(B,E,"@direction");T=L(B,R,e,N)}else if(F.includes("@index")&&a(R)){const t=F.includes("@graph"),n=y(B,E,"@index")||"@index",o="@index"!==n&&h(e,n,{vocab:!0},N);T=await C({activeCtx:B,options:N,activeProperty:E,value:R,expansionMap:A,asGraph:t,indexKey:n,propertyIndex:o})}else if(F.includes("@id")&&a(R)){const e=F.includes("@graph");T=await C({activeCtx:B,options:N,activeProperty:E,value:R,expansionMap:A,asGraph:e,indexKey:"@id"})}else if(F.includes("@type")&&a(R))T=await C({activeCtx:B.revertToPreviousContext(),options:N,activeProperty:E,value:R,expansionMap:A,asGraph:!1,indexKey:"@type"});else{const o="@list"===J;if(o||"@set"===J){let e=t;o&&"@graph"===n&&(e=null),T=await O.expand({activeCtx:B,activeProperty:e,element:R,options:N,insideList:o,expansionMap:A})}else T="@json"===y(e,E,"@type")?{"@type":"@json","@value":R}:await O.expand({activeCtx:B,activeProperty:E,element:R,options:N,insideList:!1,expansionMap:A})}if(null!==T||"@value"===J||(T=A({unmappedValue:R,expandedProperty:J,activeCtx:B,activeProperty:t,parent:p,options:N,insideList:k,key:E,expandedParent:j}),void 0!==T))if("@list"!==J&&!u(T)&&F.includes("@list")&&(T={"@list":w(T)}),F.includes("@graph")&&!F.some((e=>"@id"===e||"@index"===e))&&(T=w(T).map((e=>({"@graph":w(e)})))),B.mappings.has(E)&&B.mappings.get(E).reverse){const e=j["@reverse"]=j["@reverse"]||{};T=w(T);for(let t=0;t<T.length;++t){const n=T[t];if(d(n)||u(n))throw new r('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:T});b(e,J,n,{propertyIsArray:!0})}}else b(j,J,T,{propertyIsArray:!0})}if("@value"in j)if("@json"===j["@type"]&&m(e,1.1));else if((a(P)||i(P))&&!N.isFrame)throw new r('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:P});for(const o of D){const s=i(p[o])?p[o]:[p[o]];for(const o of s){if(!a(o)||Object.keys(o).some((t=>"@value"===h(e,t,{vocab:!0},N))))throw new r("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:o});await E({activeCtx:e,activeProperty:t,expandedActiveProperty:n,element:o,expandedParent:j,options:N,insideList:k,typeScopedContext:_,typeKey:T,expansionMap:A})}}}function N({activeCtx:e,activeProperty:t,value:n,options:o}){if(null===n||void 0===n)return null;const r=h(e,t,{vocab:!0},o);if("@id"===r)return h(e,n,{base:!0},o);if("@type"===r)return h(e,n,{vocab:!0,base:!0},o);const i=y(e,t,"@type");if(("@id"===i||"@graph"===r)&&l(n))return{"@id":h(e,n,{base:!0},o)};if("@vocab"===i&&l(n))return{"@id":h(e,n,{vocab:!0,base:!0},o)};if(g(r))return n;const a={};if(i&&!["@id","@vocab","@none"].includes(i))a["@type"]=i;else if(l(n)){const n=y(e,t,"@language");null!==n&&(a["@language"]=n);const o=y(e,t,"@direction");null!==o&&(a["@direction"]=o)}return["boolean","number","string"].includes(typeof n)||(n=n.toString()),a["@value"]=n,a}function L(e,t,n,o){const a=[],s=Object.keys(t).sort();for(const c of s){const s=h(e,c,{vocab:!0},o);let u=t[c];i(u)||(u=[u]);for(const e of u){if(null===e)continue;if(!l(e))throw new r("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});const o={"@value":e};"@none"!==s&&(o["@language"]=c.toLowerCase()),n&&(o["@direction"]=n),a.push(o)}}return a}async function C({activeCtx:e,options:t,activeProperty:n,value:o,expansionMap:a,asGraph:s,indexKey:l,propertyIndex:u}){const f=[],g=Object.keys(o).sort(),m="@type"===l;for(let x of g){if(m){const n=y(e,x,"@context");c(n)||(e=await v({activeCtx:e,localCtx:n,propagate:!1,options:t}))}let g,w=o[x];i(w)||(w=[w]),w=await O.expand({activeCtx:e,activeProperty:n,element:w,options:t,insideList:!1,insideIndex:!0,expansionMap:a}),g=u?"@none"===x?"@none":N({activeCtx:e,activeProperty:l,value:x,options:t}):h(e,x,{vocab:!0},t),"@id"===l?x=h(e,x,{base:!0},t):m&&(x=g);for(let e of w){if(s&&!p(e)&&(e={"@graph":[e]}),"@type"===l)"@none"===g||(e["@type"]?e["@type"]=[x].concat(e["@type"]):e["@type"]=[x]);else{if(d(e)&&!["@language","@type","@index"].includes(l))throw new r(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${l}".`,"jsonld.SyntaxError",{code:"invalid value object",value:e});u?"@none"!==g&&b(e,u,g,{propertyIsArray:!0,prependValue:!0}):"@none"===g||l in e||(e[l]=x)}f.push(e)}}return f}O.expand=async({activeCtx:e,activeProperty:t=null,element:n,options:o={},insideList:u=!1,insideIndex:d=!1,typeScopedContext:p=null,expansionMap:f=(()=>{})})=>{if(null===n||void 0===n)return null;if("@default"===t&&(o=Object.assign({},o,{isFrame:!1})),!i(n)&&!a(n)){if(!u&&(null===t||"@graph"===h(e,t,{vocab:!0},o))){const r=await f({unmappedValue:n,activeCtx:e,activeProperty:t,options:o,insideList:u});return void 0===r?null:r}return N({activeCtx:e,activeProperty:t,value:n,options:o})}if(i(n)){let r=[];const a=y(e,t,"@container")||[];u=u||a.includes("@list");for(let s=0;s<n.length;++s){let a=await O.expand({activeCtx:e,activeProperty:t,element:n[s],options:o,expansionMap:f,insideIndex:d,typeScopedContext:p});u&&i(a)&&(a={"@list":a}),null===a&&(a=await f({unmappedValue:n[s],activeCtx:e,activeProperty:t,parent:n,index:s,options:o,expandedParent:r,insideList:u}),void 0===a)||(i(a)?r=r.concat(a):r.push(a))}return r}const g=h(e,t,{vocab:!0},o),b=y(e,t,"@context");p=p||(e.previousContext?e:null);let I=Object.keys(n).sort(),S=!d;if(S&&p&&I.length<=2&&!I.includes("@context"))for(const r of I){const t=h(p,r,{vocab:!0},o);if("@value"===t){S=!1,e=p;break}if("@id"===t&&1===I.length){S=!1;break}}S&&(e=e.revertToPreviousContext()),c(b)||(e=await v({activeCtx:e,localCtx:b,propagate:!0,overrideProtected:!0,options:o})),"@context"in n&&(e=await v({activeCtx:e,localCtx:n["@context"],options:o})),p=e;let L=null;for(const r of I){const t=h(e,r,{vocab:!0},o);if("@type"===t){L=L||r;const t=n[r],i=Array.isArray(t)?t.length>1?t.slice().sort():t:[t];for(const n of i){const t=y(p,n,"@context");c(t)||(e=await v({activeCtx:e,localCtx:t,options:o,propagate:!1}))}}}let C={};await E({activeCtx:e,activeProperty:t,expandedActiveProperty:g,element:n,expandedParent:C,options:o,insideList:u,typeKey:L,typeScopedContext:p,expansionMap:f}),I=Object.keys(C);let k=I.length;if("@value"in C){if("@type"in C&&("@language"in C||"@direction"in C))throw new r('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:C});let i=k-1;if("@type"in C&&(i-=1),"@index"in C&&(i-=1),"@language"in C&&(i-=1),"@direction"in C&&(i-=1),0!==i)throw new r('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:C});const a=null===C["@value"]?[]:w(C["@value"]),c=j(C,"@type");if(m(e,1.1)&&c.includes("@json")&&1===c.length);else if(0===a.length){const r=await f({unmappedValue:C,activeCtx:e,activeProperty:t,element:n,options:o,insideList:u});C=void 0!==r?r:null}else{if(!a.every((e=>l(e)||s(e)))&&"@language"in C)throw new r("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:C});if(!c.every((e=>x(e)&&!(l(e)&&0===e.indexOf("_:"))||s(e))))throw new r('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:C})}}else if("@type"in C&&!i(C["@type"]))C["@type"]=[C["@type"]];else if("@set"in C||"@list"in C){if(k>1&&(2!==k||!("@index"in C)))throw new r('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:C});"@set"in C&&(C=C["@set"],I=Object.keys(C),k=I.length)}else if(1===k&&"@language"in C){const r=await f(C,{unmappedValue:C,activeCtx:e,activeProperty:t,element:n,options:o,insideList:u});C=void 0!==r?r:null}if(a(C)&&!o.keepFreeFloatingNodes&&!u&&(null===t||"@graph"===g)&&(0===k||"@value"in C||"@list"in C||1===k&&"@id"in C)){const r=await f({unmappedValue:C,activeCtx:e,activeProperty:t,element:n,options:o,insideList:u});C=void 0!==r?r:null}return C}},41565:(e,t,n)=>{"use strict";const{isSubjectReference:o}=n(18463),{createMergedNodeMap:r}=n(32664),i={};e.exports=i,i.flatten=e=>{const t=r(e),n=[],i=Object.keys(t).sort();for(let r=0;r<i.length;++r){const e=t[i[r]];o(e)||n.push(e)}return n}},63859:(e,t,n)=>{"use strict";const{isKeyword:o}=n(54131),r=n(18463),i=n(30832),a=n(51055),s=n(82278),l=n(54093),{createNodeMap:c,mergeNodeMapGraphs:u}=n(32664),d={};function p(e){const t={};for(const n in e)void 0!==e[n]&&(t["@"+n]=[e[n]]);return[t]}function f(e,t,n){for(let o=n.length-1;o>=0;--o){const r=n[o];if(r.graph===t&&r.subject["@id"]===e["@id"])return!0}return!1}function h(e,t,n){const o="@"+n;let r=o in e?e[o][0]:t[n];if("embed"===n)if(!0===r)r="@once";else if(!1===r)r="@never";else if("@always"!==r&&"@never"!==r&&"@link"!==r&&"@first"!==r&&"@last"!==r&&"@once"!==r)throw new l("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e});return r}function y(e){if(!i.isArray(e)||1!==e.length||!i.isObject(e[0]))throw new l("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0])for(const t of a.asArray(e[0]["@id"]))if(!i.isObject(t)&&!s.isAbsolute(t)||i.isString(t)&&0===t.indexOf("_:"))throw new l("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e});if("@type"in e[0])for(const t of a.asArray(e[0]["@type"]))if(!i.isObject(t)&&!s.isAbsolute(t)||i.isString(t)&&0===t.indexOf("_:"))throw new l("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}function g(e,t,n,o){const r={};for(const i of t){const t=e.graphMap[e.graph][i];v(e,t,n,o)&&(r[i]=t)}return r}function v(e,t,n,s){let l=!0,c=!1;for(const u in n){let d=!1;const p=a.getValues(t,u),f=0===a.getValues(n,u).length;if("@id"===u){if(i.isEmptyObject(n["@id"][0]||{})?d=!0:n["@id"].length>=0&&(d=n["@id"].includes(p[0])),!s.requireAll)return d}else if("@type"===u){if(l=!1,f){if(p.length>0)return!1;d=!0}else if(1===n["@type"].length&&i.isEmptyObject(n["@type"][0]))d=p.length>0;else for(const e of n["@type"])d=!(!i.isObject(e)||!("@default"in e))||(d||p.some((t=>t===e)));if(!s.requireAll)return d}else{if(o(u))continue;{const t=a.getValues(n,u)[0];let o=!1;if(t&&(y([t]),o="@default"in t),l=!1,0===p.length&&o)continue;if(p.length>0&&f)return!1;if(void 0===t){if(p.length>0)return!1;d=!0}else if(r.isList(t)){const n=t["@list"][0];if(r.isList(p[0])){const t=p[0]["@list"];r.isValue(n)?d=t.some((e=>j(n,e))):(r.isSubject(n)||r.isSubjectReference(n))&&(d=t.some((t=>w(e,n,t,s))))}}else d=r.isValue(t)?p.some((e=>j(t,e))):r.isSubjectReference(t)?p.some((n=>w(e,t,n,s))):!!i.isObject(t)&&p.length>0}}if(!d&&s.requireAll)return!1;c=c||d}return l||c}function m(e,t){const n=e.uniqueEmbeds[e.graph],o=n[t],r=o.parent,s=o.property,l={"@id":t};if(i.isArray(r)){for(let i=0;i<r.length;++i)if(a.compareValues(r[i],l)){r[i]=l;break}}else{const e=i.isArray(r[s]);a.removeValue(r,s,l,{propertyIsArray:e}),a.addValue(r,s,l,{propertyIsArray:e})}const c=e=>{const t=Object.keys(n);for(const o of t)o in n&&i.isObject(n[o].parent)&&n[o].parent["@id"]===e&&(delete n[o],c(o))};c(t)}
/**
 * Removes the @preserve keywords from expanded result of framing.
 *
 * @param input the framed, framed output.
 * @param options the framing options used.
 *
 * @return the resulting output.
 */function x(e,t){if(i.isArray(e))return e.map((e=>x(e,t)));if(i.isObject(e)){
// remove @preserve
if("@preserve"in e)return e["@preserve"][0];if(r.isValue(e))return e;if(r.isList(e))return e["@list"]=x(e["@list"],t),e;if("@id"in e){const n=e["@id"];if(t.link.hasOwnProperty(n)){const o=t.link[n].indexOf(e);if(-1!==o)return t.link[n][o];t.link[n].push(e)}else t.link[n]=[e]}for(const n in e)"@id"===n&&t.bnodesToClear.includes(e[n])?delete e["@id"]:e[n]=x(e[n],t)}return e}function b(e,t,n){i.isObject(e)?a.addValue(e,t,n,{propertyIsArray:!0}):e.push(n)}function w(e,t,n,o){if(!("@id"in n))return!1;const r=e.subjects[n["@id"]];return r&&v(e,r,t,o)}function j(e,t){const n=t["@value"],o=t["@type"],r=t["@language"],a=e["@value"]?i.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],s=e["@type"]?i.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],l=e["@language"]?i.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return 0===a.length&&0===s.length&&0===l.length||!(!a.includes(n)&&!i.isEmptyObject(a[0]))&&(!!(!o&&0===s.length||s.includes(o)||o&&i.isEmptyObject(s[0]))&&!!(!r&&0===l.length||l.includes(r)||r&&i.isEmptyObject(l[0])))}e.exports=d,d.frameMergedOrDefault=(e,t,n)=>{const o={options:n,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},r=new a.IdentifierIssuer("_:b");c(e,o.graphMap,"@default",r),n.merged&&(o.graphMap["@merged"]=u(o.graphMap),o.graph="@merged"),o.subjects=o.graphMap[o.graph];const i=[];return d.frame(o,Object.keys(o.subjects).sort(),t,i),n.pruneBlankNodeIdentifiers&&(n.bnodesToClear=Object.keys(o.bnodeMap).filter((e=>1===o.bnodeMap[e].length))),
// remove @preserve from results
n.link={},x(i,n)},d.frame=(e,t,n,s,c=null)=>{y(n),n=n[0];const u=e.options,v={embed:h(n,u,"embed"),explicit:h(n,u,"explicit"),requireAll:h(n,u,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});const x=e.link[e.graph],w=g(e,t,n,v),I=Object.keys(w).sort();for(const y of I){const g=w[y];if(null===c?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},"@link"===v.embed&&y in x){b(s,c,x[y]);continue}const I={"@id":y};if(0===y.indexOf("_:")&&a.addValue(e.bnodeMap,y,I,{propertyIsArray:!0}),x[y]=I,("@first"===v.embed||"@last"===v.embed)&&e.is11)throw new l("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:n});if(e.embedded||!e.uniqueEmbeds[e.graph].hasOwnProperty(y))if(!e.embedded||"@never"!==v.embed&&!f(g,e.graph,e.subjectStack))if(!e.embedded||"@first"!=v.embed&&"@once"!=v.embed||!e.uniqueEmbeds[e.graph].hasOwnProperty(y)){if("@last"===v.embed&&y in e.uniqueEmbeds[e.graph]&&m(e,y),e.uniqueEmbeds[e.graph][y]={parent:s,property:c},e.subjectStack.push({subject:g,graph:e.graph}),y in e.graphMap){let t=!1,o=null;"@graph"in n?(o=n["@graph"][0],t=!("@merged"===y||"@default"===y),i.isObject(o)||(o={})):(t="@merged"!==e.graph,o={}),t&&d.frame({...e,graph:y,embedded:!1},Object.keys(e.graphMap[y]).sort(),[o],I,"@graph")}"@included"in n&&d.frame({...e,embedded:!1},t,n["@included"],I,"@included");for(const t of Object.keys(g).sort())if(o(t)){if(I[t]=a.clone(g[t]),"@type"===t)for(const n of g["@type"])0===n.indexOf("_:")&&a.addValue(e.bnodeMap,n,I,{propertyIsArray:!0})}else if(!v.explicit||t in n)for(const o of g[t]){const i=t in n?n[t]:p(v);if(r.isList(o)){const i=n[t]&&n[t][0]&&n[t][0]["@list"]?n[t][0]["@list"]:p(v),s={"@list":[]};b(I,t,s);const l=o["@list"];for(const t of l)r.isSubjectReference(t)?d.frame({...e,embedded:!0},[t["@id"]],i,s,"@list"):b(s,"@list",a.clone(t))}else r.isSubjectReference(o)?d.frame({...e,embedded:!0},[o["@id"]],i,I,t):j(i[0],o)&&b(I,t,a.clone(o))}for(const e of Object.keys(n).sort()){if("@type"===e){if(!i.isObject(n[e][0])||!("@default"in n[e][0]))continue}else if(o(e))continue;const t=n[e][0]||{},r=h(t,u,"omitDefault");if(!r&&!(e in I)){let n="@null";"@default"in t&&(n=a.clone(t["@default"])),i.isArray(n)||(n=[n]),I[e]=[{"@preserve":n}]}}for(const t of Object.keys(n["@reverse"]||{}).sort()){const o=n["@reverse"][t];for(const n of Object.keys(e.subjects)){const r=a.getValues(e.subjects[n],t);r.some((e=>e["@id"]===y))&&(I["@reverse"]=I["@reverse"]||{},a.addValue(I["@reverse"],t,[],{propertyIsArray:!0}),d.frame({...e,embedded:!0},[n],o,I["@reverse"][t],c))}}b(s,c,I),e.subjectStack.pop()}else b(s,c,I);else b(s,c,I)}},d.cleanupNull=(e,t)=>{if(i.isArray(e)){const n=e.map((e=>d.cleanupNull(e,t)));return n.filter((e=>e))}if("@null"===e)return null;if(i.isObject(e)){if("@id"in e){const n=e["@id"];if(t.link.hasOwnProperty(n)){const o=t.link[n].indexOf(e);if(-1!==o)return t.link[n][o];t.link[n].push(e)}else t.link[n]=[e]}for(const n in e)e[n]=d.cleanupNull(e[n],t)}return e}},25076:(e,t,n)=>{"use strict";var o=n(25108);const r=n(54093),i=n(18463),a=n(30832),s=n(51055),{RDF_LIST:l,RDF_FIRST:c,RDF_REST:u,RDF_NIL:d,RDF_TYPE:p,RDF_JSON_LITERAL:f,XSD_BOOLEAN:h,XSD_DOUBLE:y,XSD_INTEGER:g,XSD_STRING:v}=n(93770),m=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,x={};function b(e,t,n){if(e.termType.endsWith("Node"))return{"@id":e.value};const i={"@value":e.value};if(e.language)i["@language"]=e.language;else{let l=e.datatype.value;if(l||(l=v),l===f){l="@json";try{i["@value"]=JSON.parse(i["@value"])}catch(s){throw new r("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:i["@value"],cause:s})}}if(t){if(l===h)"true"===i["@value"]?i["@value"]=!0:"false"===i["@value"]&&(i["@value"]=!1);else if(a.isNumeric(i["@value"]))if(l===g){const e=parseInt(i["@value"],10);e.toFixed(0)===i["@value"]&&(i["@value"]=e)}else l===y&&(i["@value"]=parseFloat(i["@value"]));[h,g,y,v].includes(l)||(i["@type"]=l)}else if("i18n-datatype"===n&&l.startsWith("https://www.w3.org/ns/i18n#")){const[,e,t]=l.split(/[#_]/);e.length>0&&(i["@language"]=e,e.match(m)||o.warn(`@language must be valid BCP47: ${e}`)),i["@direction"]=t}else l!==v&&(i["@type"]=l)}return i}e.exports=x,x.fromRDF=async(e,{useRdfType:t=!1,useNativeTypes:n=!1,rdfDirection:o=null})=>{const r={},f={"@default":r},h={};for(const i of e){const e="DefaultGraph"===i.graph.termType?"@default":i.graph.value;e in f||(f[e]={}),"@default"===e||e in r||(r[e]={"@id":e});const a=f[e],l=i.subject.value,c=i.predicate.value,u=i.object;l in a||(a[l]={"@id":l});const y=a[l],g=u.termType.endsWith("Node");if(g&&!(u.value in a)&&(a[u.value]={"@id":u.value}),c===p&&!t&&g){s.addValue(y,"@type",u.value,{propertyIsArray:!0});continue}const v=b(u,n,o);if(s.addValue(y,c,v,{propertyIsArray:!0}),g)if(u.value===d){const e=a[u.value];"usages"in e||(e.usages=[]),e.usages.push({node:y,property:c,value:v})}else u.value in h?h[u.value]=!1:h[u.value]={node:y,property:c,value:v}}for(const s in f){const e=f[s];if(!(d in e))continue;const t=e[d];if(t.usages){for(let n of t.usages){let t=n.node,o=n.property,r=n.value;const s=[],d=[];let p=Object.keys(t).length;while(o===u&&a.isObject(h[t["@id"]])&&a.isArray(t[c])&&1===t[c].length&&a.isArray(t[u])&&1===t[u].length&&(3===p||4===p&&a.isArray(t["@type"])&&1===t["@type"].length&&t["@type"][0]===l))if(s.push(t[c][0]),d.push(t["@id"]),n=h[t["@id"]],t=n.node,o=n.property,r=n.value,p=Object.keys(t).length,!i.isBlankNode(t))break;delete r["@id"],r["@list"]=s.reverse();for(const n of d)delete e[n]}delete t.usages}}const y=[],g=Object.keys(r).sort();for(const a of g){const e=r[a];if(a in f){const t=e["@graph"]=[],n=f[a],o=Object.keys(n).sort();for(const e of o){const o=n[e];i.isSubjectReference(o)||t.push(o)}}i.isSubjectReference(e)||y.push(e)}return y}},18463:(e,t,n)=>{"use strict";const o=n(30832),r={};e.exports=r,r.isSubject=e=>{if(o.isObject(e)&&!("@value"in e||"@set"in e||"@list"in e)){const t=Object.keys(e).length;return t>1||!("@id"in e)}return!1},r.isSubjectReference=e=>o.isObject(e)&&1===Object.keys(e).length&&"@id"in e,r.isValue=e=>o.isObject(e)&&"@value"in e,r.isList=e=>o.isObject(e)&&"@list"in e,r.isGraph=e=>o.isObject(e)&&"@graph"in e&&1===Object.keys(e).filter((e=>"@id"!==e&&"@index"!==e)).length,r.isSimpleGraph=e=>r.isGraph(e)&&!("@id"in e),r.isBlankNode=e=>!!o.isObject(e)&&("@id"in e?0===e["@id"].indexOf("_:"):0===Object.keys(e).length||!("@value"in e||"@set"in e||"@list"in e))},36805:(e,t,n)=>{
/**
 * A JavaScript implementation of the JSON-LD API.
 *
 * @author Dave Longley
 *
 * @license BSD 3-Clause License
 * Copyright (c) 2011-2019 Digital Bazaar, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright
 * notice, this list of conditions and the following disclaimer in the
 * documentation and/or other materials provided with the distribution.
 *
 * Neither the name of the Digital Bazaar, Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
const o=n(47055),r=n(67222),i=n(51055),a=n(68058),s=i.IdentifierIssuer,l=n(54093),c=n(39593),u=n(69048),{expand:d}=n(62759),{flatten:p}=n(41565),{fromRDF:f}=n(25076),{toRDF:h}=n(19382),{frameMergedOrDefault:y,cleanupNull:g}=n(63859),{isArray:v,isObject:m,isString:x}=n(30832),{isSubjectReference:b}=n(18463),{expandIri:w,getInitialContext:j,process:I,processingMode:O}=n(54131),{compact:S,compactIri:E}=n(83251),{createNodeMap:N,createMergedNodeMap:L,mergeNodeMaps:C}=n(32664),k=function(e){const t={},k=100,T=new c({max:k});function _(t,{documentLoader:n=e.documentLoader,...o}){return Object.assign({},{documentLoader:n},o,t)}return e.compact=async function(t,n,o){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(null===n)throw new l("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(null===t)return null;let r;o=_(o,{base:x(t)?t:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new s("_:b"),contextResolver:new a({sharedCache:T})}),o.link&&(o.skipExpansion=!0),o.compactToRelative||delete o.base,r=o.skipExpansion?t:await e.expand(t,o);const c=await e.processContext(j(o),n,o);let u=await S({activeCtx:c,element:r,options:o,compactionMap:o.compactionMap});o.compactArrays&&!o.graph&&v(u)?1===u.length?u=u[0]:0===u.length&&(u={}):o.graph&&m(u)&&(u=[u]),m(n)&&"@context"in n&&(n=n["@context"]),n=i.clone(n),v(n)||(n=[n]);const d=n;n=[];for(let e=0;e<d.length;++e)(!m(d[e])||Object.keys(d[e]).length>0)&&n.push(d[e]);const p=n.length>0;if(1===n.length&&(n=n[0]),v(u)){const e=E({activeCtx:c,iri:"@graph",relativeTo:{vocab:!0}}),t=u;u={},p&&(u["@context"]=n),u[e]=t}else if(m(u)&&p){const e=u;u={"@context":n};for(const t in e)u[t]=e[t]}return u},e.expand=async function(t,n){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");n=_(n,{keepFreeFloatingNodes:!1,contextResolver:new a({sharedCache:T})}),!1===n.expansionMap&&(n.expansionMap=void 0);const o={},r=[];if("expandContext"in n){const e=i.clone(n.expandContext);m(e)&&"@context"in e?o.expandContext=e:o.expandContext={"@context":e},r.push(o.expandContext)}let s;if(x(t)){const i=await e.get(t,n);s=i.documentUrl,o.input=i.document,i.contextUrl&&(o.remoteContext={"@context":i.contextUrl},r.push(o.remoteContext))}else o.input=i.clone(t);"base"in n||(n.base=s||"");let l=j(n);for(const e of r)l=await I({activeCtx:l,localCtx:e,options:n});let c=await d({activeCtx:l,element:o.input,options:n,expansionMap:n.expansionMap});return m(c)&&"@graph"in c&&1===Object.keys(c).length?c=c["@graph"]:null===c&&(c=[]),v(c)||(c=[c]),c},e.flatten=async function(t,n,o){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");n="function"===typeof n?null:n||null,o=_(o,{base:x(t)?t:"",contextResolver:new a({sharedCache:T})});const r=await e.expand(t,o),i=p(r);if(null===n)return i;o.graph=!0,o.skipExpansion=!0;const s=await e.compact(i,n,o);return s},e.frame=async function(t,n,o){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(o=_(o,{base:x(t)?t:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new a({sharedCache:T})}),x(n)){const t=await e.get(n,o);if(n=t.document,t.contextUrl){let e=n["@context"];e?v(e)?e.push(t.contextUrl):e=[e,t.contextUrl]:e=t.contextUrl,n["@context"]=e}}const r=n&&n["@context"]||{},i=await e.processContext(j(o),r,o);o.hasOwnProperty("omitGraph")||(o.omitGraph=O(i,1.1)),o.hasOwnProperty("pruneBlankNodeIdentifiers")||(o.pruneBlankNodeIdentifiers=O(i,1.1));const s=await e.expand(t,o),l={...o};l.isFrame=!0,l.keepFreeFloatingNodes=!0;const c=await e.expand(n,l),u=Object.keys(n).map((e=>w(i,e,{vocab:!0})));l.merged=!u.includes("@graph"),l.is11=O(i,1.1);const d=y(s,c,l);l.graph=!o.omitGraph,l.skipExpansion=!0,l.link={},l.framing=!0;let p=await e.compact(d,r,l);return l.link={},p=g(p,l),p},e.link=async function(t,n,o){const r={};return n&&(r["@context"]=n),r["@embed"]="@link",e.frame(t,r,o)},e.normalize=e.canonize=async function(t,n){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if(n=_(n,{base:x(t)?t:"",algorithm:"URDNA2015",skipExpansion:!1,contextResolver:new a({sharedCache:T})}),"inputFormat"in n){if("application/n-quads"!==n.inputFormat&&"application/nquads"!==n.inputFormat)throw new l("Unknown canonicalization input format.","jsonld.CanonizeError");const e=u.parse(t);return o.canonize(e,n)}const r={...n};delete r.format,r.produceGeneralizedRdf=!1;const i=await e.toRDF(t,r);return o.canonize(i,n)},e.fromRDF=async function(e,n){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");n=_(n,{format:x(e)?"application/n-quads":void 0});const{format:o}=n;let{rdfParser:r}=n;if(o){if(r=r||t[o],!r)throw new l("Unknown input format.","jsonld.UnknownFormat",{format:o})}else r=()=>e;const i=await r(e);return f(i,n)},e.toRDF=async function(t,n){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");let o;n=_(n,{base:x(t)?t:"",skipExpansion:!1,contextResolver:new a({sharedCache:T})}),o=n.skipExpansion?t:await e.expand(t,n);const r=h(o,n);if(n.format){if("application/n-quads"===n.format||"application/nquads"===n.format)return u.serialize(r);throw new l("Unknown output format.","jsonld.UnknownFormat",{format:n.format})}return r},e.createNodeMap=async function(t,n){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");n=_(n,{base:x(t)?t:"",contextResolver:new a({sharedCache:T})});const o=await e.expand(t,n);return L(o,n)},e.merge=async function(t,n,o){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!v(t))throw new TypeError('Could not merge, "docs" must be an array.');n="function"===typeof n?null:n||null,o=_(o,{contextResolver:new a({sharedCache:T})});const r=await Promise.all(t.map((t=>{const n={...o};return e.expand(t,n)})));let l=!0;"mergeNodes"in o&&(l=o.mergeNodes);const c=o.issuer||new s("_:b"),u={"@default":{}};for(let e=0;e<r.length;++e){const t=i.relabelBlankNodes(r[e],{issuer:new s("_:b"+e+"-")}),n=l||0===e?u:{"@default":{}};if(N(t,n,"@default",c),n!==u)for(const e in n){const t=n[e];if(!(e in u)){u[e]=t;continue}const o=u[e];for(const e in t)e in o||(o[e]=t[e])}}const d=C(u),p=[],f=Object.keys(d).sort();for(let e=0;e<f.length;++e){const t=d[f[e]];b(t)||p.push(t)}if(null===n)return p;o.graph=!0,o.skipExpansion=!0;const h=await e.compact(p,n,o);return h},Object.defineProperty(e,"documentLoader",{get:()=>e._documentLoader,set:t=>e._documentLoader=t}),e.documentLoader=async e=>{throw new l("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:e})},e.get=async function(t,n){let o;o="function"===typeof n.documentLoader?n.documentLoader:e.documentLoader;const r=await o(t);try{if(!r.document)throw new l("No remote document found at the given URL.","jsonld.NullRemoteDocument");x(r.document)&&(r.document=JSON.parse(r.document))}catch(i){throw new l("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:i,remoteDoc:r})}return r},e.processContext=async function(e,t,n){return n=_(n,{base:"",contextResolver:new a({sharedCache:T})}),null===t?j(n):(t=i.clone(t),m(t)&&"@context"in t||(t={"@context":t}),I({activeCtx:e,localCtx:t,options:n}))},e.getContextValue=n(54131).getContextValue,e.documentLoaders={},e.useDocumentLoader=function(t){if(!(t in e.documentLoaders))throw new l('Unknown document loader type: "'+t+'"',"jsonld.UnknownDocumentLoader",{type:t});e.documentLoader=e.documentLoaders[t].apply(e,Array.prototype.slice.call(arguments,1))},e.registerRDFParser=function(e,n){t[e]=n},e.unregisterRDFParser=function(e){delete t[e]},e.registerRDFParser("application/n-quads",u.parse),e.registerRDFParser("application/nquads",u.parse),e.url=n(82278),e.util=i,Object.assign(e,i),e.promises=e,e.RequestQueue=n(40533),e.JsonLdProcessor=n(60731)(e),r.setupGlobals(e),r.setupDocumentLoaders(e),e},T=function(){return k((function(){return T()}))};k(T),e.exports=T},32664:(e,t,n)=>{"use strict";const{isKeyword:o}=n(54131),r=n(18463),i=n(30832),a=n(51055),s=n(54093),l={};e.exports=l,l.createMergedNodeMap=(e,t)=>{t=t||{};const n=t.issuer||new a.IdentifierIssuer("_:b"),o={"@default":{}};return l.createNodeMap(e,o,"@default",n),l.mergeNodeMaps(o)},l.createNodeMap=(e,t,n,c,u,d)=>{if(i.isArray(e)){for(const o of e)l.createNodeMap(o,t,n,c,void 0,d);return}if(!i.isObject(e))return void(d&&d.push(e));if(r.isValue(e)){if("@type"in e){let t=e["@type"];0===t.indexOf("_:")&&(e["@type"]=t=c.getId(t))}return void(d&&d.push(e))}if(d&&r.isList(e)){const o=[];return l.createNodeMap(e["@list"],t,n,c,u,o),void d.push({"@list":o})}if("@type"in e){const t=e["@type"];for(const e of t)0===e.indexOf("_:")&&c.getId(e)}i.isUndefined(u)&&(u=r.isBlankNode(e)?c.getId(e["@id"]):e["@id"]),d&&d.push({"@id":u});const p=t[n],f=p[u]=p[u]||{};f["@id"]=u;const h=Object.keys(e).sort();for(let i of h){if("@id"===i)continue;if("@reverse"===i){const o={"@id":u},i=e["@reverse"];for(const e in i){const s=i[e];for(const i of s){let s=i["@id"];r.isBlankNode(i)&&(s=c.getId(s)),l.createNodeMap(i,t,n,c,s),a.addValue(p[s],e,o,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if("@graph"===i){u in t||(t[u]={}),l.createNodeMap(e[i],t,u,c);continue}if("@included"===i){l.createNodeMap(e[i],t,n,c);continue}if("@type"!==i&&o(i)){if("@index"===i&&i in f&&(e[i]!==f[i]||e[i]["@id"]!==f[i]["@id"]))throw new s("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:f});f[i]=e[i];continue}const d=e[i];if(0===i.indexOf("_:")&&(i=c.getId(i)),0!==d.length)for(let e of d)if("@type"===i&&(e=0===e.indexOf("_:")?c.getId(e):e),r.isSubject(e)||r.isSubjectReference(e)){if("@id"in e&&!e["@id"])continue;const o=r.isBlankNode(e)?c.getId(e["@id"]):e["@id"];a.addValue(f,i,{"@id":o},{propertyIsArray:!0,allowDuplicate:!1}),l.createNodeMap(e,t,n,c,o)}else if(r.isValue(e))a.addValue(f,i,e,{propertyIsArray:!0,allowDuplicate:!1});else if(r.isList(e)){const o=[];l.createNodeMap(e["@list"],t,n,c,u,o),e={"@list":o},a.addValue(f,i,e,{propertyIsArray:!0,allowDuplicate:!1})}else l.createNodeMap(e,t,n,c,u),a.addValue(f,i,e,{propertyIsArray:!0,allowDuplicate:!1});else a.addValue(f,i,[],{propertyIsArray:!0})}},l.mergeNodeMapGraphs=e=>{const t={};for(const n of Object.keys(e).sort())for(const r of Object.keys(e[n]).sort()){const i=e[n][r];r in t||(t[r]={"@id":r});const s=t[r];for(const e of Object.keys(i).sort())if(o(e)&&"@type"!==e)s[e]=a.clone(i[e]);else for(const t of i[e])a.addValue(s,e,a.clone(t),{propertyIsArray:!0,allowDuplicate:!1})}return t},l.mergeNodeMaps=e=>{const t=e["@default"],n=Object.keys(e).sort();for(const o of n){if("@default"===o)continue;const n=e[o];let i=t[o];i?"@graph"in i||(i["@graph"]=[]):t[o]=i={"@id":o,"@graph":[]};const a=i["@graph"];for(const e of Object.keys(n).sort()){const t=n[e];r.isSubjectReference(t)||a.push(t)}}return t}},67222:(e,t,n)=>{"use strict";const o=n(8831),r={};e.exports=r,r.setupDocumentLoaders=function(e){"undefined"!==typeof XMLHttpRequest&&(e.documentLoaders.xhr=o,e.useDocumentLoader("xhr"))},r.setupGlobals=function(e){"undefined"===typeof globalThis.JsonLdProcessor&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor})}},19382:(e,t,n)=>{"use strict";const{createNodeMap:o}=n(32664),{isKeyword:r}=n(54131),i=n(18463),a=n(95456),s=n(30832),l=n(51055),{RDF_FIRST:c,RDF_REST:u,RDF_NIL:d,RDF_TYPE:p,RDF_JSON_LITERAL:f,RDF_LANGSTRING:h,XSD_BOOLEAN:y,XSD_DOUBLE:g,XSD_INTEGER:v,XSD_STRING:m}=n(93770),{isAbsolute:x}=n(82278),b={};function w(e,t,n,o,i){const a=Object.keys(t).sort();for(const s of a){const a=t[s],l=Object.keys(a).sort();for(let t of l){const l=a[t];if("@type"===t)t=p;else if(r(t))continue;for(const r of l){const a={termType:s.startsWith("_:")?"BlankNode":"NamedNode",value:s};if(!x(s))continue;const l={termType:t.startsWith("_:")?"BlankNode":"NamedNode",value:t};if(!x(t))continue;if("BlankNode"===l.termType&&!i.produceGeneralizedRdf)continue;const c=I(r,o,e,n,i.rdfDirection);c&&e.push({subject:a,predicate:l,object:c,graph:n})}}}}function j(e,t,n,o,r){const i={termType:"NamedNode",value:c},a={termType:"NamedNode",value:u},s={termType:"NamedNode",value:d},l=e.pop(),p=l?{termType:"BlankNode",value:t.getId()}:s;let f=p;for(const c of e){const e=I(c,t,n,o,r),s={termType:"BlankNode",value:t.getId()};n.push({subject:f,predicate:i,object:e,graph:o}),n.push({subject:f,predicate:a,object:s,graph:o}),f=s}if(l){const e=I(l,t,n,o,r);n.push({subject:f,predicate:i,object:e,graph:o}),n.push({subject:f,predicate:a,object:s,graph:o})}return p}function I(e,t,n,o,r){const l={};if(i.isValue(e)){l.termType="Literal",l.value=void 0,l.datatype={termType:"NamedNode"};let t=e["@value"];const n=e["@type"]||null;if("@json"===n)l.value=a(t),l.datatype.value=f;else if(s.isBoolean(t))l.value=t.toString(),l.datatype.value=n||y;else if(s.isDouble(t)||n===g)s.isDouble(t)||(t=parseFloat(t)),l.value=t.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),l.datatype.value=n||g;else if(s.isNumber(t))l.value=t.toFixed(0),l.datatype.value=n||v;else if("i18n-datatype"===r&&"@direction"in e){const n="https://www.w3.org/ns/i18n#"+(e["@language"]||"")+`_${e["@direction"]}`;l.datatype.value=n,l.value=t}else"@language"in e?(l.value=t,l.datatype.value=n||h,l.language=e["@language"]):(l.value=t,l.datatype.value=n||m)}else if(i.isList(e)){const i=j(e["@list"],t,n,o,r);l.termType=i.termType,l.value=i.value}else{const t=s.isObject(e)?e["@id"]:e;l.termType=t.startsWith("_:")?"BlankNode":"NamedNode",l.value=t}return"NamedNode"!==l.termType||x(l.value)?l:null}e.exports=b,b.toRDF=(e,t)=>{const n=new l.IdentifierIssuer("_:b"),r={"@default":{}};o(e,r,"@default",n);const i=[],a=Object.keys(r).sort();for(const o of a){let e;if("@default"===o)e={termType:"DefaultGraph",value:""};else{if(!x(o))continue;e=o.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"},e.value=o}w(i,r[o],e,n,t)}return i}},30832:e=>{"use strict";const t={};e.exports=t,t.isArray=Array.isArray,t.isBoolean=e=>"boolean"===typeof e||"[object Boolean]"===Object.prototype.toString.call(e),t.isDouble=e=>t.isNumber(e)&&(-1!==String(e).indexOf(".")||Math.abs(e)>=1e21),t.isEmptyObject=e=>t.isObject(e)&&0===Object.keys(e).length,t.isNumber=e=>"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e),t.isNumeric=e=>!isNaN(parseFloat(e))&&isFinite(e),t.isObject=e=>"[object Object]"===Object.prototype.toString.call(e),t.isString=e=>"string"===typeof e||"[object String]"===Object.prototype.toString.call(e),t.isUndefined=e=>"undefined"===typeof e},82278:(e,t,n)=>{"use strict";const o=n(30832),r={};e.exports=r,r.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},r.parse=(e,t)=>{const n={},o=r.parsers[t||"full"],i=o.regex.exec(e);let a=o.keys.length;while(a--)n[o.keys[a]]=void 0===i[a]?null:i[a];return("https"===n.scheme&&"443"===n.port||"http"===n.scheme&&"80"===n.port)&&(n.href=n.href.replace(":"+n.port,""),n.authority=n.authority.replace(":"+n.port,""),n.port=null),n.normalizedPath=r.removeDotSegments(n.path),n},r.prependBase=(e,t)=>{if(null===e)return t;if(r.isAbsolute(t))return t;e&&!o.isString(e)||(e=r.parse(e||""));const n=r.parse(t),i={protocol:e.protocol||""};if(null!==n.authority)i.authority=n.authority,i.path=n.path,i.query=n.query;else if(i.authority=e.authority,""===n.path)i.path=e.path,null!==n.query?i.query=n.query:i.query=e.query;else{if(0===n.path.indexOf("/"))i.path=n.path;else{let t=e.path;t=t.substr(0,t.lastIndexOf("/")+1),(t.length>0||e.authority)&&"/"!==t.substr(-1)&&(t+="/"),t+=n.path,i.path=t}i.query=n.query}""!==n.path&&(i.path=r.removeDotSegments(i.path));let a=i.protocol;return null!==i.authority&&(a+="//"+i.authority),a+=i.path,null!==i.query&&(a+="?"+i.query),null!==n.fragment&&(a+="#"+n.fragment),""===a&&(a="./"),a},r.removeBase=(e,t)=>{if(null===e)return t;e&&!o.isString(e)||(e=r.parse(e||""));let n="";if(""!==e.href?n+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(n+="//"),0!==t.indexOf(n))return t;const i=r.parse(t.substr(n.length)),a=e.normalizedPath.split("/"),s=i.normalizedPath.split("/"),l=i.fragment||i.query?0:1;while(a.length>0&&s.length>l){if(a[0]!==s[0])break;a.shift(),s.shift()}let c="";if(a.length>0){a.pop();for(let e=0;e<a.length;++e)c+="../"}return c+=s.join("/"),null!==i.query&&(c+="?"+i.query),null!==i.fragment&&(c+="#"+i.fragment),""===c&&(c="./"),c},r.removeDotSegments=e=>{if(0===e.length)return"";const t=e.split("/"),n=[];while(t.length>0){const e=t.shift(),o=0===t.length;"."!==e?".."!==e?n.push(e):(n.pop(),o&&n.push("")):o&&n.push("")}return"/"===e[0]&&n.length>0&&""!==n[0]&&n.unshift(""),1===n.length&&""===n[0]?"/":n.join("/")};const i=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;r.isAbsolute=e=>o.isString(e)&&i.test(e),r.isRelative=e=>o.isString(e)},51055:(e,t,n)=>{"use strict";const o=n(18463),r=n(30832),i=n(47055).IdentifierIssuer,a=n(54093),s=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,l=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,c=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,u={headers:{accept:"application/ld+json, application/json"}},d={};function p(e,t){if(r.isArray(t))for(let n=0;n<t.length;++n)t[n]=p(e,t[n]);else if(o.isList(t))t["@list"]=p(e,t["@list"]);else if(r.isObject(t)){o.isBlankNode(t)&&(t["@id"]=e.getId(t["@id"]));const n=Object.keys(t).sort();for(let o=0;o<n.length;++o){const r=n[o];"@id"!==r&&(t[r]=p(e,t[r]))}}return t}e.exports=d,d.IdentifierIssuer=i,d.clone=function(e){if(e&&"object"===typeof e){let t;if(r.isArray(e)){t=[];for(let n=0;n<e.length;++n)t[n]=d.clone(e[n])}else if(e instanceof Map){t=new Map;for(const[n,o]of e)t.set(n,d.clone(o))}else if(e instanceof Set){t=new Set;for(const n of e)t.add(d.clone(n))}else if(r.isObject(e)){t={};for(const n in e)t[n]=d.clone(e[n])}else t=e.toString();return t}return e},d.asArray=function(e){return Array.isArray(e)?e:[e]},d.buildHeaders=(e={})=>{const t=Object.keys(e).some((e=>"accept"===e.toLowerCase()));if(t)throw new RangeError('Accept header may not be specified; only "'+u.headers.accept+'" is supported.');return Object.assign({Accept:u.headers.accept},e)},d.parseLinkHeader=e=>{const t={},n=e.match(s);for(let o=0;o<n.length;++o){let e=n[o].match(l);if(!e)continue;const r={target:e[1]},i=e[2];while(e=c.exec(i))r[e[1]]=void 0===e[2]?e[3]:e[2];const a=r["rel"]||"";Array.isArray(t[a])?t[a].push(r):t.hasOwnProperty(a)?t[a]=[t[a],r]:t[a]=r}return t},d.validateTypeValue=(e,t)=>{if(!r.isString(e)&&(!r.isArray(e)||!e.every((e=>r.isString(e))))){if(t&&r.isObject(e))switch(Object.keys(e).length){case 0:return;case 1:if("@default"in e&&d.asArray(e["@default"]).every((e=>r.isString(e))))return}throw new a('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}},d.hasProperty=(e,t)=>{if(e.hasOwnProperty(t)){const n=e[t];return!r.isArray(n)||n.length>0}return!1},d.hasValue=(e,t,n)=>{if(d.hasProperty(e,t)){let i=e[t];const a=o.isList(i);if(r.isArray(i)||a){a&&(i=i["@list"]);for(let e=0;e<i.length;++e)if(d.compareValues(n,i[e]))return!0}else if(!r.isArray(n))return d.compareValues(n,i)}return!1},d.addValue=(e,t,n,o)=>{if(o=o||{},"propertyIsArray"in o||(o.propertyIsArray=!1),"valueIsArray"in o||(o.valueIsArray=!1),"allowDuplicate"in o||(o.allowDuplicate=!0),"prependValue"in o||(o.prependValue=!1),o.valueIsArray)e[t]=n;else if(r.isArray(n)){0===n.length&&o.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]),o.prependValue&&(n=n.concat(e[t]),e[t]=[]);for(let r=0;r<n.length;++r)d.addValue(e,t,n[r],o)}else if(e.hasOwnProperty(t)){const i=!o.allowDuplicate&&d.hasValue(e,t,n);r.isArray(e[t])||i&&!o.propertyIsArray||(e[t]=[e[t]]),i||(o.prependValue?e[t].unshift(n):e[t].push(n))}else e[t]=o.propertyIsArray?[n]:n},d.getValues=(e,t)=>[].concat(e[t]||[]),d.removeProperty=(e,t)=>{delete e[t]},d.removeValue=(e,t,n,o)=>{o=o||{},"propertyIsArray"in o||(o.propertyIsArray=!1);const r=d.getValues(e,t).filter((e=>!d.compareValues(e,n)));0===r.length?d.removeProperty(e,t):1!==r.length||o.propertyIsArray?e[t]=r:e[t]=r[0]},d.relabelBlankNodes=(e,t)=>{t=t||{};const n=t.issuer||new i("_:b");return p(n,e)},d.compareValues=(e,t)=>e===t||(!(!o.isValue(e)||!o.isValue(t)||e["@value"]!==t["@value"]||e["@type"]!==t["@type"]||e["@language"]!==t["@language"]||e["@index"]!==t["@index"])||!!(r.isObject(e)&&"@id"in e&&r.isObject(t)&&"@id"in t)&&e["@id"]===t["@id"]),d.compareShortestLeast=(e,t)=>e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1},39593:(e,t,n)=>{"use strict";const o=n(34411),r=Symbol("max"),i=Symbol("length"),a=Symbol("lengthCalculator"),s=Symbol("allowStale"),l=Symbol("maxAge"),c=Symbol("dispose"),u=Symbol("noDisposeOnSet"),d=Symbol("lruList"),p=Symbol("cache"),f=Symbol("updateAgeOnGet"),h=()=>1;class y{constructor(e){if("number"===typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!==typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[r]=e.max||1/0;const t=e.length||h;if(this[a]="function"!==typeof t?h:t,this[s]=e.stale||!1,e.maxAge&&"number"!==typeof e.maxAge)throw new TypeError("maxAge must be a number");this[l]=e.maxAge||0,this[c]=e.dispose,this[u]=e.noDisposeOnSet||!1,this[f]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!==typeof e||e<0)throw new TypeError("max must be a non-negative number");this[r]=e||1/0,m(this)}get max(){return this[r]}set allowStale(e){this[s]=!!e}get allowStale(){return this[s]}set maxAge(e){if("number"!==typeof e)throw new TypeError("maxAge must be a non-negative number");this[l]=e,m(this)}get maxAge(){return this[l]}set lengthCalculator(e){"function"!==typeof e&&(e=h),e!==this[a]&&(this[a]=e,this[i]=0,this[d].forEach((e=>{e.length=this[a](e.value,e.key),this[i]+=e.length}))),m(this)}get lengthCalculator(){return this[a]}get length(){return this[i]}get itemCount(){return this[d].length}rforEach(e,t){t=t||this;for(let n=this[d].tail;null!==n;){const o=n.prev;w(this,e,n,t),n=o}}forEach(e,t){t=t||this;for(let n=this[d].head;null!==n;){const o=n.next;w(this,e,n,t),n=o}}keys(){return this[d].toArray().map((e=>e.key))}values(){return this[d].toArray().map((e=>e.value))}reset(){this[c]&&this[d]&&this[d].length&&this[d].forEach((e=>this[c](e.key,e.value))),this[p]=new Map,this[d]=new o,this[i]=0}dump(){return this[d].map((e=>!v(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[d]}set(e,t,n){if(n=n||this[l],n&&"number"!==typeof n)throw new TypeError("maxAge must be a number");const o=n?Date.now():0,s=this[a](t,e);if(this[p].has(e)){if(s>this[r])return x(this,this[p].get(e)),!1;const a=this[p].get(e),l=a.value;return this[c]&&(this[u]||this[c](e,l.value)),l.now=o,l.maxAge=n,l.value=t,this[i]+=s-l.length,l.length=s,this.get(e),m(this),!0}const f=new b(e,t,s,o,n);return f.length>this[r]?(this[c]&&this[c](e,t),!1):(this[i]+=f.length,this[d].unshift(f),this[p].set(e,this[d].head),m(this),!0)}has(e){if(!this[p].has(e))return!1;const t=this[p].get(e).value;return!v(this,t)}get(e){return g(this,e,!0)}peek(e){return g(this,e,!1)}pop(){const e=this[d].tail;return e?(x(this,e),e.value):null}del(e){x(this,this[p].get(e))}load(e){this.reset();const t=Date.now();for(let n=e.length-1;n>=0;n--){const o=e[n],r=o.e||0;if(0===r)this.set(o.k,o.v);else{const e=r-t;e>0&&this.set(o.k,o.v,e)}}}prune(){this[p].forEach(((e,t)=>g(this,t,!1)))}}const g=(e,t,n)=>{const o=e[p].get(t);if(o){const t=o.value;if(v(e,t)){if(x(e,o),!e[s])return}else n&&(e[f]&&(o.value.now=Date.now()),e[d].unshiftNode(o));return t.value}},v=(e,t)=>{if(!t||!t.maxAge&&!e[l])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[l]&&n>e[l]},m=e=>{if(e[i]>e[r])for(let t=e[d].tail;e[i]>e[r]&&null!==t;){const n=t.prev;x(e,t),t=n}},x=(e,t)=>{if(t){const n=t.value;e[c]&&e[c](n.key,n.value),e[i]-=n.length,e[p].delete(n.key),e[d].removeNode(t)}};class b{constructor(e,t,n,o,r){this.key=e,this.value=t,this.length=n,this.now=o,this.maxAge=r||0}}const w=(e,t,n,o)=>{let r=n.value;v(e,r)&&(x(e,n),e[s]||(r=void 0)),r&&t.call(o,r.value,r.key,e)};e.exports=y},47055:(e,t,n)=>{e.exports=n(29344)},23445:(e,t,n)=>{"use strict";const o=n(12401),r=n(75947),i=n(68326),a=n(69980);function s(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}e.exports=class{constructor(){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new o("_:c14n"),this.hashAlgorithm="sha256",this.quads=null}async main(e){this.quads=e;for(const o of e)this._addBlankNodeQuadInfo({quad:o,component:o.subject}),this._addBlankNodeQuadInfo({quad:o,component:o.object}),this._addBlankNodeQuadInfo({quad:o,component:o.graph});const t=new Map,n=[...this.blankNodeInfo.keys()];let r=0;for(const o of n)++r%100===0&&await this._yield(),await this._hashAndTrackBlankNode({id:o,hashToBlankNodes:t});const i=[...t.keys()].sort(),l=[];for(const o of i){const e=t.get(o);if(e.length>1){l.push(e);continue}const n=e[0];this.canonicalIssuer.getId(n)}for(const a of l){const e=[];for(const t of a){if(this.canonicalIssuer.hasId(t))continue;const n=new o("_:b");n.getId(t);const r=await this.hashNDegreeQuads(t,n);e.push(r)}e.sort(s);for(const t of e){const e=t.issuer.getOldIds();for(const t of e)this.canonicalIssuer.getId(t)}}const c=[];for(const o of this.quads){const e={...o};e.subject=this._useCanonicalId({component:e.subject}),e.object=this._useCanonicalId({component:e.object}),e.graph=this._useCanonicalId({component:e.graph}),c.push(a.serializeQuad(e))}return c.sort(),c.join("")}async hashFirstDegreeQuads(e){const t=[],n=this.blankNodeInfo.get(e),o=n.quads;for(const r of o){const n={subject:null,predicate:r.predicate,object:null,graph:null};n.subject=this.modifyFirstDegreeComponent(e,r.subject,"subject"),n.object=this.modifyFirstDegreeComponent(e,r.object,"object"),n.graph=this.modifyFirstDegreeComponent(e,r.graph,"graph"),t.push(a.serializeQuad(n))}t.sort();const i=new r(this.hashAlgorithm);for(const r of t)i.update(r);return n.hash=await i.digest(),n.hash}async hashRelatedBlankNode(e,t,n,o){let i;i=this.canonicalIssuer.hasId(e)?this.canonicalIssuer.getId(e):n.hasId(e)?n.getId(e):this.blankNodeInfo.get(e).hash;const a=new r(this.hashAlgorithm);return a.update(o),"g"!==o&&a.update(this.getRelatedPredicate(t)),a.update(i),a.digest()}async hashNDegreeQuads(e,t){const n=new r(this.hashAlgorithm),o=await this.createHashToRelated(e,t),a=[...o.keys()].sort();for(const r of a){n.update(r);let e,a="";const s=new i(o.get(r));let l=0;while(s.hasNext()){const n=s.next();++l%3===0&&await this._yield();let o=t.clone(),r="";const i=[];let c=!1;for(const e of n)if(this.canonicalIssuer.hasId(e)?r+=this.canonicalIssuer.getId(e):(o.hasId(e)||i.push(e),r+=o.getId(e)),0!==a.length&&r>a){c=!0;break}if(!c){for(const e of i){const t=await this.hashNDegreeQuads(e,o);if(r+=o.getId(e),r+=`<${t.hash}>`,o=t.issuer,0!==a.length&&r>a){c=!0;break}}c||(0===a.length||r<a)&&(a=r,e=o)}}n.update(a),t=e}return{hash:await n.digest(),issuer:t}}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return`<${e.predicate.value}>`}async createHashToRelated(e,t){const n=new Map,o=this.blankNodeInfo.get(e).quads;let r=0;for(const i of o)++r%100===0&&await this._yield(),await Promise.all([this._addRelatedBlankNodeHash({quad:i,component:i.subject,position:"s",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:i,component:i.object,position:"o",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:i,component:i.graph,position:"g",id:e,issuer:t,hashToRelated:n})]);return n}async _hashAndTrackBlankNode({id:e,hashToBlankNodes:t}){const n=await this.hashFirstDegreeQuads(e),o=t.get(n);o?o.push(e):t.set(n,[e])}_addBlankNodeQuadInfo({quad:e,component:t}){if("BlankNode"!==t.termType)return;const n=t.value,o=this.blankNodeInfo.get(n);o?o.quads.add(e):this.blankNodeInfo.set(n,{quads:new Set([e]),hash:null})}async _addRelatedBlankNodeHash({quad:e,component:t,position:n,id:o,issuer:r,hashToRelated:i}){if("BlankNode"!==t.termType||t.value===o)return;const a=t.value,s=await this.hashRelatedBlankNode(a,e,r,n),l=i.get(s);l?l.push(a):i.set(s,[a])}_useCanonicalId({component:e}){return"BlankNode"!==e.termType||e.value.startsWith(this.canonicalIssuer.prefix)?e:{termType:"BlankNode",value:this.canonicalIssuer.getId(e.value)}}async _yield(){return new Promise((e=>setImmediate(e)))}}},89201:(e,t,n)=>{"use strict";const o=n(23445);e.exports=class extends o{constructor(){super(),this.name="URGNA2012",this.hashAlgorithm="sha1"}modifyFirstDegreeComponent(e,t,n){return"BlankNode"!==t.termType?t:"graph"===n?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return e.predicate.value}async createHashToRelated(e,t){const n=new Map,o=this.blankNodeInfo.get(e).quads;let r=0;for(const i of o){let o,a;if("BlankNode"===i.subject.termType&&i.subject.value!==e)a=i.subject.value,o="p";else{if("BlankNode"!==i.object.termType||i.object.value===e)continue;a=i.object.value,o="r"}++r%100===0&&await this._yield();const s=await this.hashRelatedBlankNode(a,i,t,o),l=n.get(s);l?l.push(a):n.set(s,[a])}return n}}},17702:(e,t,n)=>{"use strict";const o=n(5643);e.exports=class extends o{constructor(){super(),this.name="URGNA2012",this.hashAlgorithm="sha1"}modifyFirstDegreeComponent(e,t,n){return"BlankNode"!==t.termType?t:"graph"===n?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return e.predicate.value}createHashToRelated(e,t){const n=new Map,o=this.blankNodeInfo.get(e).quads;for(const r of o){let o,i;if("BlankNode"===r.subject.termType&&r.subject.value!==e)i=r.subject.value,o="p";else{if("BlankNode"!==r.object.termType||r.object.value===e)continue;i=r.object.value,o="r"}const a=this.hashRelatedBlankNode(i,r,t,o),s=n.get(a);s?s.push(i):n.set(a,[i])}return n}}},29344:(e,t,n)=>{"use strict";const o=n(23445),r=n(89201),i=n(5643),a=n(17702);let s;try{s=n(97670)}catch(c){}const l={};e.exports=l,l.NQuads=n(69980),l.IdentifierIssuer=n(12401),l._rdfCanonizeNative=function(e){return e&&(s=e),s},l.canonize=async function(e,t){if(Array.isArray(e)||(e=l.NQuads.legacyDatasetToQuads(e)),t.useNative){if(!s)throw new Error("rdf-canonize-native not available");return new Promise(((n,o)=>s.canonize(e,t,((e,t)=>e?o(e):n(t)))))}if("URDNA2015"===t.algorithm)return new o(t).main(e);if("URGNA2012"===t.algorithm)return new r(t).main(e);if(!("algorithm"in t))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)},l._canonizeSync=function(e,t){if(Array.isArray(e)||(e=l.NQuads.legacyDatasetToQuads(e)),t.useNative){if(s)return s.canonizeSync(e,t);throw new Error("rdf-canonize-native not available")}if("URDNA2015"===t.algorithm)return new i(t).main(e);if("URGNA2012"===t.algorithm)return new a(t).main(e);if(!("algorithm"in t))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)}},61666:(e,t)=>{var n,o=void 0,r=1e5,i=function(){var e=Object.prototype.toString,t=Object.prototype.hasOwnProperty;return{Class:function(t){return e.call(t).replace(/^\[object *|\]$/g,"")},HasProperty:function(e,t){return t in e},HasOwnProperty:function(e,n){return t.call(e,n)},IsCallable:function(e){return"function"===typeof e},ToInt32:function(e){return e>>0},ToUint32:function(e){return e>>>0}}}(),a=Math.LN2,s=Math.abs,l=Math.floor,c=Math.log,u=Math.min,d=Math.pow,p=Math.round;function f(e){if(h&&n){var t,o=h(e);for(t=0;t<o.length;t+=1)n(e,o[t],{value:e[o[t]],writable:!1,enumerable:!1,configurable:!1})}}n=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()?Object.defineProperty:function(e,t,n){if(!e===Object(e))throw new TypeError("Object.defineProperty called on non-object");return i.HasProperty(n,"get")&&Object.prototype.__defineGetter__&&Object.prototype.__defineGetter__.call(e,t,n.get),i.HasProperty(n,"set")&&Object.prototype.__defineSetter__&&Object.prototype.__defineSetter__.call(e,t,n.set),i.HasProperty(n,"value")&&(e[t]=n.value),e};var h=Object.getOwnPropertyNames||function(e){if(e!==Object(e))throw new TypeError("Object.getOwnPropertyNames called on non-object");var t,n=[];for(t in e)i.HasOwnProperty(e,t)&&n.push(t);return n};function y(e){if(n){if(e.length>r)throw new RangeError("Array too large for polyfill");var t;for(t=0;t<e.length;t+=1)o(t)}function o(t){n(e,t,{get:function(){return e._getter(t)},set:function(n){e._setter(t,n)},enumerable:!0,configurable:!1})}}function g(e,t){var n=32-t;return e<<n>>n}function v(e,t){var n=32-t;return e<<n>>>n}function m(e){return[255&e]}function x(e){return g(e[0],8)}function b(e){return[255&e]}function w(e){return v(e[0],8)}function j(e){return e=p(Number(e)),[e<0?0:e>255?255:255&e]}function I(e){return[e>>8&255,255&e]}function O(e){return g(e[0]<<8|e[1],16)}function S(e){return[e>>8&255,255&e]}function E(e){return v(e[0]<<8|e[1],16)}function N(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]}function L(e){return g(e[0]<<24|e[1]<<16|e[2]<<8|e[3],32)}function C(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]}function k(e){return v(e[0]<<24|e[1]<<16|e[2]<<8|e[3],32)}function T(e,t,n){var o,r,i,p,f,h,y,g=(1<<t-1)-1;function v(e){var t=l(e),n=e-t;return n<.5?t:n>.5||t%2?t+1:t}for(e!==e?(r=(1<<t)-1,i=d(2,n-1),o=0):e===1/0||e===-1/0?(r=(1<<t)-1,i=0,o=e<0?1:0):0===e?(r=0,i=0,o=1/e===-1/0?1:0):(o=e<0,e=s(e),e>=d(2,1-g)?(r=u(l(c(e)/a),1023),i=v(e/d(2,r)*d(2,n)),i/d(2,n)>=2&&(r+=1,i=1),r>g?(r=(1<<t)-1,i=0):(r+=g,i-=d(2,n))):(r=0,i=v(e/d(2,1-g-n)))),f=[],p=n;p;p-=1)f.push(i%2?1:0),i=l(i/2);for(p=t;p;p-=1)f.push(r%2?1:0),r=l(r/2);f.push(o?1:0),f.reverse(),h=f.join(""),y=[];while(h.length)y.push(parseInt(h.substring(0,8),2)),h=h.substring(8);return y}function _(e,t,n){var o,r,i,a,s,l,c,u,p=[];for(o=e.length;o;o-=1)for(i=e[o-1],r=8;r;r-=1)p.push(i%2?1:0),i>>=1;return p.reverse(),a=p.join(""),s=(1<<t-1)-1,l=parseInt(a.substring(0,1),2)?-1:1,c=parseInt(a.substring(1,1+t),2),u=parseInt(a.substring(1+t),2),c===(1<<t)-1?0!==u?NaN:l*(1/0):c>0?l*d(2,c-s)*(1+u/d(2,n)):0!==u?l*d(2,-(s-1))*(u/d(2,n)):l<0?-0:0}function A(e){return _(e,11,52)}function R(e){return T(e,11,52)}function D(e){return _(e,8,23)}function P(e){return T(e,8,23)}(function(){var e=function(e){if(e=i.ToInt32(e),e<0)throw new RangeError("ArrayBuffer size is not a small enough positive integer");var t;for(this.byteLength=e,this._bytes=[],this._bytes.length=e,t=0;t<this.byteLength;t+=1)this._bytes[t]=0;f(this)};t.eT=t.eT||e;var n=function(){};function r(t,r,a){var s;return s=function(t,n,o){var r,a,l,c;if(arguments.length&&"number"!==typeof arguments[0])if("object"===typeof arguments[0]&&arguments[0].constructor===s)for(r=arguments[0],this.length=r.length,this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new e(this.byteLength),this.byteOffset=0,l=0;l<this.length;l+=1)this._setter(l,r._getter(l));else if("object"!==typeof arguments[0]||(arguments[0]instanceof e||"ArrayBuffer"===i.Class(arguments[0]))){if("object"!==typeof arguments[0]||!(arguments[0]instanceof e||"ArrayBuffer"===i.Class(arguments[0])))throw new TypeError("Unexpected argument type(s)");if(this.buffer=t,this.byteOffset=i.ToUint32(n),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(this.byteOffset%this.BYTES_PER_ELEMENT)throw new RangeError("ArrayBuffer length minus the byteOffset is not a multiple of the element size.");if(arguments.length<3){if(this.byteLength=this.buffer.byteLength-this.byteOffset,this.byteLength%this.BYTES_PER_ELEMENT)throw new RangeError("length of buffer minus byteOffset not a multiple of the element size");this.length=this.byteLength/this.BYTES_PER_ELEMENT}else this.length=i.ToUint32(o),this.byteLength=this.length*this.BYTES_PER_ELEMENT;if(this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer")}else for(a=arguments[0],this.length=i.ToUint32(a.length),this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new e(this.byteLength),this.byteOffset=0,l=0;l<this.length;l+=1)c=a[l],this._setter(l,Number(c));else{if(this.length=i.ToInt32(arguments[0]),o<0)throw new RangeError("ArrayBufferView size is not a small enough positive integer");this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new e(this.byteLength),this.byteOffset=0}this.constructor=s,f(this),y(this)},s.prototype=new n,s.prototype.BYTES_PER_ELEMENT=t,s.prototype._pack=r,s.prototype._unpack=a,s.BYTES_PER_ELEMENT=t,s.prototype._getter=function(e){if(arguments.length<1)throw new SyntaxError("Not enough arguments");if(e=i.ToUint32(e),e>=this.length)return o;var t,n,r=[];for(t=0,n=this.byteOffset+e*this.BYTES_PER_ELEMENT;t<this.BYTES_PER_ELEMENT;t+=1,n+=1)r.push(this.buffer._bytes[n]);return this._unpack(r)},s.prototype.get=s.prototype._getter,s.prototype._setter=function(e,t){if(arguments.length<2)throw new SyntaxError("Not enough arguments");if(e=i.ToUint32(e),e>=this.length)return o;var n,r,a=this._pack(t);for(n=0,r=this.byteOffset+e*this.BYTES_PER_ELEMENT;n<this.BYTES_PER_ELEMENT;n+=1,r+=1)this.buffer._bytes[r]=a[n]},s.prototype.set=function(e,t){if(arguments.length<1)throw new SyntaxError("Not enough arguments");var n,o,r,a,s,l,c,u,d,p;if("object"===typeof arguments[0]&&arguments[0].constructor===this.constructor){if(n=arguments[0],r=i.ToUint32(arguments[1]),r+n.length>this.length)throw new RangeError("Offset plus length of array is out of range");if(u=this.byteOffset+r*this.BYTES_PER_ELEMENT,d=n.length*this.BYTES_PER_ELEMENT,n.buffer===this.buffer){for(p=[],s=0,l=n.byteOffset;s<d;s+=1,l+=1)p[s]=n.buffer._bytes[l];for(s=0,c=u;s<d;s+=1,c+=1)this.buffer._bytes[c]=p[s]}else for(s=0,l=n.byteOffset,c=u;s<d;s+=1,l+=1,c+=1)this.buffer._bytes[c]=n.buffer._bytes[l]}else{if("object"!==typeof arguments[0]||"undefined"===typeof arguments[0].length)throw new TypeError("Unexpected argument type(s)");if(o=arguments[0],a=i.ToUint32(o.length),r=i.ToUint32(arguments[1]),r+a>this.length)throw new RangeError("Offset plus length of array is out of range");for(s=0;s<a;s+=1)l=o[s],this._setter(r+s,Number(l))}},s.prototype.subarray=function(e,t){function n(e,t,n){return e<t?t:e>n?n:e}e=i.ToInt32(e),t=i.ToInt32(t),arguments.length<1&&(e=0),arguments.length<2&&(t=this.length),e<0&&(e=this.length+e),t<0&&(t=this.length+t),e=n(e,0,this.length),t=n(t,0,this.length);var o=t-e;return o<0&&(o=0),new this.constructor(this.buffer,this.byteOffset+e*this.BYTES_PER_ELEMENT,o)},s}var a=r(1,m,x),s=r(1,b,w),l=r(1,j,w),c=r(2,I,O),u=r(2,S,E),d=r(4,N,L),p=r(4,C,k),h=r(4,P,D),g=r(8,R,A);t.iq=t.iq||a,t.U2=t.U2||s,t.we=t.we||l,t.M2=t.M2||c,t.HA=t.HA||u,t.ZV=t.ZV||d,t._R=t._R||p,t.$L=t.$L||h,t.I=t.I||g})(),function(){function e(e,t){return i.IsCallable(e.get)?e.get(t):e[t]}var n=function(){var n=new t.HA([4660]),o=new t.U2(n.buffer);return 18===e(o,0)}(),o=function(e,n,o){if(0===arguments.length)e=new t.eT(0);else if(!(e instanceof t.eT||"ArrayBuffer"===i.Class(e)))throw new TypeError("TypeError");if(this.buffer=e||new t.eT(0),this.byteOffset=i.ToUint32(n),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(this.byteLength=arguments.length<3?this.buffer.byteLength-this.byteOffset:i.ToUint32(o),this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer");f(this)};function r(o){return function(r,a){if(r=i.ToUint32(r),r+o.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");r+=this.byteOffset;var s,l=new t.U2(this.buffer,r,o.BYTES_PER_ELEMENT),c=[];for(s=0;s<o.BYTES_PER_ELEMENT;s+=1)c.push(e(l,s));return Boolean(a)===Boolean(n)&&c.reverse(),e(new o(new t.U2(c).buffer),0)}}function a(o){return function(r,a,s){if(r=i.ToUint32(r),r+o.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");var l,c,u=new o([a]),d=new t.U2(u.buffer),p=[];for(l=0;l<o.BYTES_PER_ELEMENT;l+=1)p.push(e(d,l));Boolean(s)===Boolean(n)&&p.reverse(),c=new t.U2(this.buffer,r,o.BYTES_PER_ELEMENT),c.set(p)}}o.prototype.getUint8=r(t.U2),o.prototype.getInt8=r(t.iq),o.prototype.getUint16=r(t.HA),o.prototype.getInt16=r(t.M2),o.prototype.getUint32=r(t._R),o.prototype.getInt32=r(t.ZV),o.prototype.getFloat32=r(t.$L),o.prototype.getFloat64=r(t.I),o.prototype.setUint8=a(t.U2),o.prototype.setInt8=a(t.iq),o.prototype.setUint16=a(t.HA),o.prototype.setInt16=a(t.M2),o.prototype.setUint32=a(t._R),o.prototype.setInt32=a(t.ZV),o.prototype.setFloat32=a(t.$L),o.prototype.setFloat64=a(t.I),t.VO=t.VO||o}()},49602:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},34411:(e,t,n)=>{"use strict";function o(e){var t=this;if(t instanceof o||(t=new o),t.tail=null,t.head=null,t.length=0,e&&"function"===typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);return t}function r(e,t,n){var o=t===e.head?new s(n,null,t,e):new s(n,t,t.next,e);return null===o.next&&(e.tail=o),null===o.prev&&(e.head=o),e.length++,o}function i(e,t){e.tail=new s(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function a(e,t){e.head=new s(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function s(e,t,n,o){if(!(this instanceof s))return new s(e,t,n,o);this.list=o,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}e.exports=o,o.Node=s,o.create=o,o.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},o.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},o.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},o.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)i(this,arguments[e]);return this.length},o.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)a(this,arguments[e]);return this.length},o.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},o.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},o.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,o=0;null!==n;o++)e.call(t,n.value,o,this),n=n.next},o.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,o=this.length-1;null!==n;o--)e.call(t,n.value,o,this),n=n.prev},o.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},o.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},o.prototype.map=function(e,t){t=t||this;for(var n=new o,r=this.head;null!==r;)n.push(e.call(t,r.value,this)),r=r.next;return n},o.prototype.mapReverse=function(e,t){t=t||this;for(var n=new o,r=this.tail;null!==r;)n.push(e.call(t,r.value,this)),r=r.prev;return n},o.prototype.reduce=function(e,t){var n,o=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");o=this.head.next,n=this.head.value}for(var r=0;null!==o;r++)n=e(n,o.value,r),o=o.next;return n},o.prototype.reduceReverse=function(e,t){var n,o=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");o=this.tail.prev,n=this.tail.value}for(var r=this.length-1;null!==o;r--)n=e(n,o.value,r),o=o.prev;return n},o.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},o.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},o.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new o;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,i=this.head;null!==i&&r<e;r++)i=i.next;for(;null!==i&&r<t;r++,i=i.next)n.push(i.value);return n},o.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new o;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,i=this.tail;null!==i&&r>t;r--)i=i.prev;for(;null!==i&&r>e;r--,i=i.prev)n.push(i.value);return n},o.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var o=0,i=this.head;null!==i&&o<e;o++)i=i.next;var a=[];for(o=0;i&&o<t;o++)a.push(i.value),i=this.removeNode(i);null===i&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(o=0;o<n.length;o++)i=r(this,i,n[o]);return a},o.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var o=n.prev;n.prev=n.next,n.next=o}return this.head=t,this.tail=e,this};try{n(49602)(o)}catch(l){}},97670:()=>{}}]);
//# sourceMappingURL=21.9bea9fc1.js.map